{"ast":null,"code":"import _classCallCheck from\"/Users/theodaguier/e-do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/theodaguier/e-do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/theodaguier/e-do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/theodaguier/e-do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";//import lucas from 'Assets/img/blog/lucas.jpg';\n//import share from 'Assets/img/blog/share.svg';\nimport perso from\"Assets/img/blog/perso.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ArticleDesktop=/*#__PURE__*/function(_React$Component){_inherits(ArticleDesktop,_React$Component);var _super=_createSuper(ArticleDesktop);function ArticleDesktop(props){var _this;_classCallCheck(this,ArticleDesktop);_this=_super.call(this,props);_this.state={article:[]};return _this;}_createClass(ArticleDesktop,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url=window.location.pathname;url=url.replace(\"/blog/\",\"\");url=url.replace(\"/\",\"\");//console.log(url);\nfetch(\"https://www.e-do.studio/apiPHP/article.php/\",{method:\"POST\",body:JSON.stringify({url:url})}).then(function(response){//console.log(response);\nreturn response.json();}).then(function(result){//console.log(result);\n_this2.setState({article_rs:result});}).catch(function(err){console.log(\"Error Reading data \"+err);});}},{key:\"render\",value:function render(){var articlesFound=this.state.article_rs&&this.state.article_rs.length;if(articlesFound){return this.state.article_rs.map(function(item,index){var options={day:\"numeric\",month:\"long\",year:\"numeric\"};var date=new Date(item.date);date=date.toLocaleDateString(\"fr-FR\",options);var pictures=item.other_pictures.split(\";\");function otherPictures(){if(pictures.length<2){return/*#__PURE__*/_jsx(\"img\",{className:\"otherPicture\",src:item.other_pictures});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"otherPicturesFlex\",children:pictures.map(function(element){return/*#__PURE__*/_jsx(\"img\",{className:\"otherPictures\",src:element});})});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"flexContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftMenu column\",children:[item.author_picture?/*#__PURE__*/_jsx(\"img\",{src:item.author_picture,className:\"authorPicture\",alt:\"Auteur de l'article\"}):/*#__PURE__*/_jsx(\"div\",{className:\"imgBox\",children:/*#__PURE__*/_jsx(\"img\",{src:perso,className:\"perso\",alt:\"Auteur de l'article\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"author\",children:item.author}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"team\",children:\"E-Do Team\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:date}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainArticleContent column\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"category\",children:item.category}),/*#__PURE__*/_jsx(\"h1\",{className:\"articleTitle\",children:item.title}),/*#__PURE__*/_jsx(\"img\",{className:\"mainPicture\",src:item.main_picture}),/*#__PURE__*/_jsx(\"p\",{className:\"articleContent\",children:item.post_content}),otherPictures()]})]},index);}.bind(this));}else{return/*#__PURE__*/_jsx(\"p\",{children:\"Impossible de charger l'article.\"});}}}]);return ArticleDesktop;}(React.Component);export default ArticleDesktop;","map":{"version":3,"sources":["/Users/theodaguier/e-do/src/ArticleDesktop.js"],"names":["React","ArticleDesktop","props","state","article","url","window","location","pathname","replace","fetch","method","body","JSON","stringify","then","response","json","result","setState","article_rs","catch","err","console","log","articlesFound","length","map","item","index","options","day","month","year","date","Date","toLocaleDateString","pictures","other_pictures","split","otherPictures","element","author_picture","perso","author","category","title","main_picture","post_content","bind","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n//import lucas from 'Assets/img/blog/lucas.jpg';\n//import share from 'Assets/img/blog/share.svg';\nimport perso from \"Assets/img/blog/perso.svg\";\n\nclass ArticleDesktop extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { article: [] };\n  }\n\n  componentDidMount() {\n    var url = window.location.pathname;\n    url = url.replace(\"/blog/\", \"\");\n    url = url.replace(\"/\", \"\");\n    //console.log(url);\n\n    fetch(\"https://www.e-do.studio/apiPHP/article.php/\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        url: url,\n      }),\n    })\n      .then((response) => {\n        //console.log(response);\n        return response.json();\n      })\n      .then((result) => {\n        //console.log(result);\n        this.setState({\n          article_rs: result,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Error Reading data \" + err);\n      });\n  }\n\n  render() {\n    const articlesFound = this.state.article_rs && this.state.article_rs.length;\n    if (articlesFound) {\n      return this.state.article_rs.map(\n        function (item, index) {\n          let options = { day: \"numeric\", month: \"long\", year: \"numeric\" };\n          let date = new Date(item.date);\n          date = date.toLocaleDateString(\"fr-FR\", options);\n          let pictures = item.other_pictures.split(\";\");\n          function otherPictures() {\n            if (pictures.length < 2) {\n              return <img className=\"otherPicture\" src={item.other_pictures} />;\n            } else {\n              return (\n                <div className=\"otherPicturesFlex\">\n                  {pictures.map((element) => (\n                    <img className=\"otherPictures\" src={element} />\n                  ))}\n                </div>\n              );\n            }\n          }\n          return (\n            <div className=\"flexContent\" key={index}>\n              <div className=\"leftMenu column\">\n                {item.author_picture ? (\n                  <img\n                    src={item.author_picture}\n                    className=\"authorPicture\"\n                    alt=\"Auteur de l'article\"\n                  />\n                ) : (\n                  <div className=\"imgBox\">\n                    <img\n                      src={perso}\n                      className=\"perso\"\n                      alt=\"Auteur de l'article\"\n                    />\n                  </div>\n                )}\n                <span className=\"author\">{item.author}</span>\n                <br />\n                <span className=\"team\">E-Do Team</span>\n                <br />\n                <span className=\"date\">{date}</span>\n                <br />\n                {/*<span className=\"share\">Partager <img src={share} alt=\"Partager l'article\" /></span>*/}\n              </div>\n              <div className=\"mainArticleContent column\">\n                <h2 className=\"category\">{item.category}</h2>\n                <h1 className=\"articleTitle\">{item.title}</h1>\n                <img className=\"mainPicture\" src={item.main_picture} />\n                <p className=\"articleContent\">{item.post_content}</p>\n                {otherPictures()}\n              </div>\n            </div>\n          );\n        }.bind(this)\n      );\n    } else {\n      return <p>Impossible de charger l'article.</p>;\n    }\n  }\n}\n\nexport default ArticleDesktop;\n"]},"metadata":{},"sourceType":"module"}