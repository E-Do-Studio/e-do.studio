{"ast":null,"code":"import { Vector4 } from \"three\";\nimport { calcSurfacePoint } from \"./NURBSUtils.js\";\n\nclass NURBSSurface {\n  constructor(degree1, degree2, knots1, knots2, controlPoints) {\n    this.degree1 = degree1;\n    this.degree2 = degree2;\n    this.knots1 = knots1;\n    this.knots2 = knots2;\n    this.controlPoints = [];\n    const len1 = knots1.length - degree1 - 1;\n    const len2 = knots2.length - degree2 - 1;\n\n    for (let i = 0; i < len1; ++i) {\n      this.controlPoints[i] = [];\n\n      for (let j = 0; j < len2; ++j) {\n        const point = controlPoints[i][j];\n        this.controlPoints[i][j] = new Vector4(point.x, point.y, point.z, point.w);\n      }\n    }\n  }\n\n  getPoint(t1, t2, target) {\n    const u = this.knots1[0] + t1 * (this.knots1[this.knots1.length - 1] - this.knots1[0]);\n    const v = this.knots2[0] + t2 * (this.knots2[this.knots2.length - 1] - this.knots2[0]);\n    calcSurfacePoint(this.degree1, this.degree2, this.knots1, this.knots2, this.controlPoints, u, v, target);\n  }\n\n}\n\nexport { NURBSSurface };","map":{"version":3,"sources":["/Users/theodaguier/_dev/pro/e-do/website/old/E-Do-Studio/node_modules/three-stdlib/curves/NURBSSurface.js"],"names":["Vector4","calcSurfacePoint","NURBSSurface","constructor","degree1","degree2","knots1","knots2","controlPoints","len1","length","len2","i","j","point","x","y","z","w","getPoint","t1","t2","target","u","v"],"mappings":"AAAA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,gBAAT,QAAiC,iBAAjC;;AACA,MAAMC,YAAN,CAAmB;AACjBC,EAAAA,WAAW,CAACC,OAAD,EAAUC,OAAV,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmCC,aAAnC,EAAkD;AAC3D,SAAKJ,OAAL,GAAeA,OAAf;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,UAAMC,IAAI,GAAGH,MAAM,CAACI,MAAP,GAAgBN,OAAhB,GAA0B,CAAvC;AACA,UAAMO,IAAI,GAAGJ,MAAM,CAACG,MAAP,GAAgBL,OAAhB,GAA0B,CAAvC;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,IAApB,EAA0B,EAAEG,CAA5B,EAA+B;AAC7B,WAAKJ,aAAL,CAAmBI,CAAnB,IAAwB,EAAxB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAApB,EAA0B,EAAEE,CAA5B,EAA+B;AAC7B,cAAMC,KAAK,GAAGN,aAAa,CAACI,CAAD,CAAb,CAAiBC,CAAjB,CAAd;AACA,aAAKL,aAAL,CAAmBI,CAAnB,EAAsBC,CAAtB,IAA2B,IAAIb,OAAJ,CAAYc,KAAK,CAACC,CAAlB,EAAqBD,KAAK,CAACE,CAA3B,EAA8BF,KAAK,CAACG,CAApC,EAAuCH,KAAK,CAACI,CAA7C,CAA3B;AACD;AACF;AACF;;AACDC,EAAAA,QAAQ,CAACC,EAAD,EAAKC,EAAL,EAASC,MAAT,EAAiB;AACvB,UAAMC,CAAC,GAAG,KAAKjB,MAAL,CAAY,CAAZ,IAAiBc,EAAE,IAAI,KAAKd,MAAL,CAAY,KAAKA,MAAL,CAAYI,MAAZ,GAAqB,CAAjC,IAAsC,KAAKJ,MAAL,CAAY,CAAZ,CAA1C,CAA7B;AACA,UAAMkB,CAAC,GAAG,KAAKjB,MAAL,CAAY,CAAZ,IAAiBc,EAAE,IAAI,KAAKd,MAAL,CAAY,KAAKA,MAAL,CAAYG,MAAZ,GAAqB,CAAjC,IAAsC,KAAKH,MAAL,CAAY,CAAZ,CAA1C,CAA7B;AACAN,IAAAA,gBAAgB,CAAC,KAAKG,OAAN,EAAe,KAAKC,OAApB,EAA6B,KAAKC,MAAlC,EAA0C,KAAKC,MAA/C,EAAuD,KAAKC,aAA5D,EAA2Ee,CAA3E,EAA8EC,CAA9E,EAAiFF,MAAjF,CAAhB;AACD;;AArBgB;;AAuBnB,SACEpB,YADF","sourcesContent":["import { Vector4 } from \"three\";\nimport { calcSurfacePoint } from \"./NURBSUtils.js\";\nclass NURBSSurface {\n  constructor(degree1, degree2, knots1, knots2, controlPoints) {\n    this.degree1 = degree1;\n    this.degree2 = degree2;\n    this.knots1 = knots1;\n    this.knots2 = knots2;\n    this.controlPoints = [];\n    const len1 = knots1.length - degree1 - 1;\n    const len2 = knots2.length - degree2 - 1;\n    for (let i = 0; i < len1; ++i) {\n      this.controlPoints[i] = [];\n      for (let j = 0; j < len2; ++j) {\n        const point = controlPoints[i][j];\n        this.controlPoints[i][j] = new Vector4(point.x, point.y, point.z, point.w);\n      }\n    }\n  }\n  getPoint(t1, t2, target) {\n    const u = this.knots1[0] + t1 * (this.knots1[this.knots1.length - 1] - this.knots1[0]);\n    const v = this.knots2[0] + t2 * (this.knots2[this.knots2.length - 1] - this.knots2[0]);\n    calcSurfacePoint(this.degree1, this.degree2, this.knots1, this.knots2, this.controlPoints, u, v, target);\n  }\n}\nexport {\n  NURBSSurface\n};\n"]},"metadata":{},"sourceType":"module"}