{"ast":null,"code":"import _toConsumableArray from\"/Users/theodaguier/e-do/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect,useRef,useState}from\"react\";import{useMediaQuery}from\"@react-hook/media-query\";import arrowRightBoldBlack from\"../../../Assets/img/landing/arrow-right-bold-black.svg\";import arrowRightBold from\"../../../Assets/img/landing/arrow-right-bold.svg\";import closeIconBlack from\"../../../Assets/img/popup/close-icon-black.svg\";import closeIcon from\"../../../Assets/img/landing/close-icon.svg\";import i18next from\"i18next\";import{useTranslation}from\"react-i18next\";import\"./popup.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PopupDesktop=function PopupDesktop(){var NewsletterBanner=useRef();var emailRef=useRef(null);var _useTranslation=useTranslation(\"popup\"),t=_useTranslation.t,i18n=_useTranslation.i18n;function NewsletterBannerClose(){NewsletterBanner.current.style.display=\"none\";}var NewsletterBannerSend=function NewsletterBannerSend(event){var _emailRef$current;event.preventDefault();var email=(_emailRef$current=emailRef.current)===null||_emailRef$current===void 0?void 0:_emailRef$current.value;var data={g:\"XheCg2\",email:email!==null&&email!==void 0?email:\"\"};var urlData=new URLSearchParams(data);fetch(\"https://manage.kmail-lists.com/ajax/subscriptions/subscribe\",{method:\"POST\",body:urlData});localStorage.setItem(\"CookieNewsletterBanner\",true);var noConfirm=document.getElementsByClassName(\"noConfirm\");var noConfirmArray=_toConsumableArray(noConfirm);noConfirmArray.map(function(element){return element.classList.add(\"hidden\");});document.querySelector(\".confirm\").classList.remove(\"hidden\");setTimeout(function(){document.querySelector(\".popup\").classList.add(\"animationDisparition\");},1500);setTimeout(function(){NewsletterBanner.current.style.display=\"none\";},2500);};return/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",ref:NewsletterBanner,children:[/*#__PURE__*/_jsx(\"div\",{className:\"bandeauNoir\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contentSection\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left noConfirm\",children:/*#__PURE__*/_jsx(\"span\",{children:t(\"Enter your e-mail address to subscribe to the newsletter:\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"middle noConfirm\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:NewsletterBannerSend,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",ref:emailRef}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:/*#__PURE__*/_jsx(\"img\",{src:arrowRightBoldBlack,alt:\"Fl\\xE8che vers la droite\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"right noConfirm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"closeIcon\",onClick:NewsletterBannerClose,children:/*#__PURE__*/_jsx(\"img\",{src:closeIconBlack,alt:\"Croix de fermeture\"})})}),/*#__PURE__*/_jsx(\"span\",{className:\"confirm hidden\",children:t(\"Thank you for registering!\")})]})]});};var PopupMobile=function PopupMobile(){var NewsletterBanner=useRef();var emailRef=useRef(null);var _useTranslation2=useTranslation(\"popup\"),t=_useTranslation2.t,i18n=_useTranslation2.i18n;function NewsletterBannerClose(){NewsletterBanner.current.style.display=\"none\";}var NewsletterBannerSend=function NewsletterBannerSend(event){var _emailRef$current2;event.preventDefault();var email=(_emailRef$current2=emailRef.current)===null||_emailRef$current2===void 0?void 0:_emailRef$current2.value;var data={g:\"XheCg2\",email:email!==null&&email!==void 0?email:\"\"};var urlData=new URLSearchParams(data);fetch(\"https://manage.kmail-lists.com/ajax/subscriptions/subscribe\",{method:\"POST\",body:urlData});var noConfirm=document.getElementsByClassName(\"noConfirm\");var noConfirmArray=_toConsumableArray(noConfirm);noConfirmArray.map(function(element){return element.classList.add(\"hidden\");});document.querySelector(\".confirm\").classList.remove(\"hidden\");setTimeout(function(){document.querySelector(\".popup\").classList.add(\"animationDisparition\");},1500);setTimeout(function(){NewsletterBanner.current.style.display=\"none\";},2500);};return/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",ref:NewsletterBanner,children:[/*#__PURE__*/_jsx(\"div\",{className:\"firstPart noConfirm\",onClick:NewsletterBannerClose,children:/*#__PURE__*/_jsx(\"img\",{src:closeIcon,alt:\"Croix de fermeture de la modale\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"secondPart noConfirm\",children:/*#__PURE__*/_jsx(\"p\",{children:t(\"Enter your e-mail address to subscribe to the newsletter:\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"thirdPart noConfirm\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:NewsletterBannerSend,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",ref:emailRef}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:/*#__PURE__*/_jsx(\"img\",{src:arrowRightBold,alt:\"Fl\\xE8che vers la droite\"})})]})}),/*#__PURE__*/_jsx(\"span\",{className:\"confirm hidden\",children:t(\"Thank you for registering!\")})]});};var Popup=function Popup(){var matches=useMediaQuery(\"only screen and (min-width: 1024px)\");return!matches?/*#__PURE__*/_jsx(PopupMobile,{}):/*#__PURE__*/_jsx(PopupDesktop,{});};export default Popup;","map":{"version":3,"sources":["/Users/theodaguier/e-do/src/Components/Layout/Popup/popup.jsx"],"names":["React","useEffect","useRef","useState","useMediaQuery","i18next","useTranslation","PopupDesktop","NewsletterBanner","emailRef","t","i18n","NewsletterBannerClose","current","style","display","NewsletterBannerSend","event","preventDefault","email","value","data","g","urlData","URLSearchParams","fetch","method","body","localStorage","setItem","noConfirm","document","getElementsByClassName","noConfirmArray","map","element","classList","add","querySelector","remove","setTimeout","arrowRightBoldBlack","closeIconBlack","PopupMobile","closeIcon","arrowRightBold","Popup","matches"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useMediaQuery } from \"@react-hook/media-query\";\n\nimport arrowRightBoldBlack from \"../../../Assets/img/landing/arrow-right-bold-black.svg\";\nimport arrowRightBold from \"../../../Assets/img/landing/arrow-right-bold.svg\";\nimport closeIconBlack from \"../../../Assets/img/popup/close-icon-black.svg\";\nimport closeIcon from \"../../../Assets/img/landing/close-icon.svg\";\n\nimport i18next from \"i18next\";\nimport { useTranslation } from \"react-i18next\";\n\nimport \"./popup.scss\";\n\nconst PopupDesktop = () => {\n  const NewsletterBanner = useRef();\n  const emailRef = useRef(null);\n\n  const { t, i18n } = useTranslation(\"popup\");\n\n  function NewsletterBannerClose() {\n    NewsletterBanner.current.style.display = \"none\";\n  }\n\n  const NewsletterBannerSend = (event) => {\n    event.preventDefault();\n\n    const email = emailRef.current?.value;\n\n    const data = {\n      g: \"XheCg2\",\n      email: email ?? \"\",\n    };\n\n    const urlData = new URLSearchParams(data);\n\n    fetch(`https://manage.kmail-lists.com/ajax/subscriptions/subscribe`, {\n      method: \"POST\",\n      body: urlData,\n    });\n\n    localStorage.setItem(\"CookieNewsletterBanner\", true);\n    var noConfirm = document.getElementsByClassName(\"noConfirm\");\n    var noConfirmArray = [...noConfirm];\n    noConfirmArray.map((element) => element.classList.add(\"hidden\"));\n    document.querySelector(\".confirm\").classList.remove(\"hidden\");\n    setTimeout(function () {\n      document.querySelector(\".popup\").classList.add(\"animationDisparition\");\n    }, 1500);\n    setTimeout(function () {\n      NewsletterBanner.current.style.display = \"none\";\n    }, 2500);\n  };\n\n  return (\n    <div className=\"popup\" ref={NewsletterBanner}>\n      <div className=\"bandeauNoir\"></div>\n      <div className=\"contentSection\">\n        <div className=\"left noConfirm\">\n          <span>\n            {t(\"Enter your e-mail address to subscribe to the newsletter:\")}\n          </span>\n        </div>\n        <div className=\"middle noConfirm\">\n          <form onSubmit={NewsletterBannerSend}>\n            <input type=\"email\" name=\"email\" ref={emailRef} />\n            <button type=\"submit\">\n              <img src={arrowRightBoldBlack} alt=\"Flèche vers la droite\" />\n            </button>\n          </form>\n        </div>\n        <div className=\"right noConfirm\">\n          <div className=\"closeIcon\" onClick={NewsletterBannerClose}>\n            <img src={closeIconBlack} alt=\"Croix de fermeture\" />\n          </div>\n        </div>\n        <span className=\"confirm hidden\">\n          {t(\"Thank you for registering!\")}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nconst PopupMobile = () => {\n  const NewsletterBanner = useRef();\n  const emailRef = useRef(null);\n\n  const { t, i18n } = useTranslation(\"popup\");\n\n  function NewsletterBannerClose() {\n    NewsletterBanner.current.style.display = \"none\";\n  }\n\n  const NewsletterBannerSend = (event) => {\n    event.preventDefault();\n\n    const email = emailRef.current?.value;\n\n    const data = {\n      g: \"XheCg2\",\n      email: email ?? \"\",\n    };\n\n    const urlData = new URLSearchParams(data);\n\n    fetch(`https://manage.kmail-lists.com/ajax/subscriptions/subscribe`, {\n      method: \"POST\",\n      body: urlData,\n    });\n\n    var noConfirm = document.getElementsByClassName(\"noConfirm\");\n    var noConfirmArray = [...noConfirm];\n    noConfirmArray.map((element) => element.classList.add(\"hidden\"));\n    document.querySelector(\".confirm\").classList.remove(\"hidden\");\n    setTimeout(function () {\n      document.querySelector(\".popup\").classList.add(\"animationDisparition\");\n    }, 1500);\n    setTimeout(function () {\n      NewsletterBanner.current.style.display = \"none\";\n    }, 2500);\n  };\n\n  return (\n    <div className=\"popup\" ref={NewsletterBanner}>\n      <div className=\"firstPart noConfirm\" onClick={NewsletterBannerClose}>\n        <img src={closeIcon} alt=\"Croix de fermeture de la modale\" />\n      </div>\n      <div className=\"secondPart noConfirm\">\n        <p>{t(\"Enter your e-mail address to subscribe to the newsletter:\")}</p>\n      </div>\n      <div className=\"thirdPart noConfirm\">\n        <form onSubmit={NewsletterBannerSend}>\n          <input type=\"email\" name=\"email\" ref={emailRef} />\n          <button type=\"submit\">\n            <img src={arrowRightBold} alt=\"Flèche vers la droite\" />\n          </button>\n        </form>\n      </div>\n      <span className=\"confirm hidden\">{t(\"Thank you for registering!\")}</span>\n    </div>\n  );\n};\n\nconst Popup = () => {\n  const matches = useMediaQuery(\"only screen and (min-width: 1024px)\");\n\n  return !matches ? <PopupMobile /> : <PopupDesktop />;\n};\n\nexport default Popup;\n"]},"metadata":{},"sourceType":"module"}