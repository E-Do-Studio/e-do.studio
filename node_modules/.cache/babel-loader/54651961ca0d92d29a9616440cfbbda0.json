{"ast":null,"code":"var __defProp = Object.defineProperty;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n  return value;\n};\n\nimport { Euler, Vector3, EventDispatcher } from \"three\";\n\nconst _euler = /* @__PURE__ */new Euler(0, 0, 0, \"YXZ\");\n\nconst _vector = /* @__PURE__ */new Vector3();\n\nconst _changeEvent = {\n  type: \"change\"\n};\nconst _lockEvent = {\n  type: \"lock\"\n};\nconst _unlockEvent = {\n  type: \"unlock\"\n};\n\nconst _PI_2 = Math.PI / 2;\n\nclass PointerLockControls extends EventDispatcher {\n  constructor(camera, domElement) {\n    super();\n\n    __publicField(this, \"camera\");\n\n    __publicField(this, \"domElement\");\n\n    __publicField(this, \"isLocked\");\n\n    __publicField(this, \"minPolarAngle\");\n\n    __publicField(this, \"maxPolarAngle\");\n\n    __publicField(this, \"pointerSpeed\");\n\n    __publicField(this, \"onMouseMove\", event => {\n      if (!this.domElement || this.isLocked === false) return;\n      const movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      const movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n      _euler.setFromQuaternion(this.camera.quaternion);\n\n      _euler.y -= movementX * 2e-3 * this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x));\n      this.camera.quaternion.setFromEuler(_euler);\n      this.dispatchEvent(_changeEvent);\n    });\n\n    __publicField(this, \"onPointerlockChange\", () => {\n      if (!this.domElement) return;\n\n      if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n        this.dispatchEvent(_lockEvent);\n        this.isLocked = true;\n      } else {\n        this.dispatchEvent(_unlockEvent);\n        this.isLocked = false;\n      }\n    });\n\n    __publicField(this, \"onPointerlockError\", () => {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n\n    __publicField(this, \"connect\", domElement => {\n      this.domElement = domElement || this.domElement;\n      if (!this.domElement) return;\n      this.domElement.ownerDocument.addEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n\n    __publicField(this, \"disconnect\", () => {\n      if (!this.domElement) return;\n      this.domElement.ownerDocument.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n\n    __publicField(this, \"dispose\", () => {\n      this.disconnect();\n    });\n\n    __publicField(this, \"getObject\", () => {\n      return this.camera;\n    });\n\n    __publicField(this, \"direction\", new Vector3(0, 0, -1));\n\n    __publicField(this, \"getDirection\", v => {\n      return v.copy(this.direction).applyQuaternion(this.camera.quaternion);\n    });\n\n    __publicField(this, \"moveForward\", distance => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n\n      _vector.crossVectors(this.camera.up, _vector);\n\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n\n    __publicField(this, \"moveRight\", distance => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n\n    __publicField(this, \"lock\", () => {\n      if (this.domElement) this.domElement.requestPointerLock();\n    });\n\n    __publicField(this, \"unlock\", () => {\n      if (this.domElement) this.domElement.ownerDocument.exitPointerLock();\n    });\n\n    this.camera = camera;\n    this.domElement = domElement;\n    this.isLocked = false;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.pointerSpeed = 1;\n    if (domElement) this.connect(domElement);\n  }\n\n}\n\nexport { PointerLockControls };","map":{"version":3,"sources":["/Users/theodaguier/Repositories/E-Do-Studio/node_modules/three-stdlib/controls/PointerLockControls.js"],"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","Euler","Vector3","EventDispatcher","_euler","_vector","_changeEvent","type","_lockEvent","_unlockEvent","_PI_2","Math","PI","PointerLockControls","constructor","camera","domElement","event","isLocked","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","setFromQuaternion","quaternion","y","pointerSpeed","x","max","maxPolarAngle","min","minPolarAngle","setFromEuler","dispatchEvent","ownerDocument","pointerLockElement","console","error","addEventListener","onMouseMove","onPointerlockChange","onPointerlockError","removeEventListener","disconnect","v","copy","direction","applyQuaternion","distance","setFromMatrixColumn","matrix","crossVectors","up","position","addScaledVector","requestPointerLock","exitPointerLock","connect"],"mappings":"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","sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Euler, Vector3, EventDispatcher } from \"three\";\nconst _euler = /* @__PURE__ */ new Euler(0, 0, 0, \"YXZ\");\nconst _vector = /* @__PURE__ */ new Vector3();\nconst _changeEvent = { type: \"change\" };\nconst _lockEvent = { type: \"lock\" };\nconst _unlockEvent = { type: \"unlock\" };\nconst _PI_2 = Math.PI / 2;\nclass PointerLockControls extends EventDispatcher {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"camera\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"isLocked\");\n    __publicField(this, \"minPolarAngle\");\n    __publicField(this, \"maxPolarAngle\");\n    __publicField(this, \"pointerSpeed\");\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (!this.domElement || this.isLocked === false)\n        return;\n      const movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      const movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n      _euler.setFromQuaternion(this.camera.quaternion);\n      _euler.y -= movementX * 2e-3 * this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x));\n      this.camera.quaternion.setFromEuler(_euler);\n      this.dispatchEvent(_changeEvent);\n    });\n    __publicField(this, \"onPointerlockChange\", () => {\n      if (!this.domElement)\n        return;\n      if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n        this.dispatchEvent(_lockEvent);\n        this.isLocked = true;\n      } else {\n        this.dispatchEvent(_unlockEvent);\n        this.isLocked = false;\n      }\n    });\n    __publicField(this, \"onPointerlockError\", () => {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      this.domElement = domElement || this.domElement;\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.addEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"disconnect\", () => {\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"dispose\", () => {\n      this.disconnect();\n    });\n    __publicField(this, \"getObject\", () => {\n      return this.camera;\n    });\n    __publicField(this, \"direction\", new Vector3(0, 0, -1));\n    __publicField(this, \"getDirection\", (v) => {\n      return v.copy(this.direction).applyQuaternion(this.camera.quaternion);\n    });\n    __publicField(this, \"moveForward\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      _vector.crossVectors(this.camera.up, _vector);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"moveRight\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"lock\", () => {\n      if (this.domElement)\n        this.domElement.requestPointerLock();\n    });\n    __publicField(this, \"unlock\", () => {\n      if (this.domElement)\n        this.domElement.ownerDocument.exitPointerLock();\n    });\n    this.camera = camera;\n    this.domElement = domElement;\n    this.isLocked = false;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.pointerSpeed = 1;\n    if (domElement)\n      this.connect(domElement);\n  }\n}\nexport {\n  PointerLockControls\n};\n"]},"metadata":{},"sourceType":"module"}