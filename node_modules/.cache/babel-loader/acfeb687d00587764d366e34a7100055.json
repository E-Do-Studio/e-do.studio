{"ast":null,"code":"import _classCallCheck from \"/Users/theodaguier/_workdir/dev/pro/e-do/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/theodaguier/_workdir/dev/pro/e-do/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/theodaguier/_workdir/dev/pro/e-do/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/theodaguier/_workdir/dev/pro/e-do/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar __defProp = Object.defineProperty;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __publicField = function __publicField(obj, key, value) {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n  return value;\n};\n\nimport { Euler, Vector3, EventDispatcher } from \"three\";\n\nvar _euler = /* @__PURE__ */new Euler(0, 0, 0, \"YXZ\");\n\nvar _vector = /* @__PURE__ */new Vector3();\n\nvar _changeEvent = {\n  type: \"change\"\n};\nvar _lockEvent = {\n  type: \"lock\"\n};\nvar _unlockEvent = {\n  type: \"unlock\"\n};\n\nvar _PI_2 = Math.PI / 2;\n\nvar PointerLockControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(PointerLockControls, _EventDispatcher);\n\n  var _super = _createSuper(PointerLockControls);\n\n  function PointerLockControls(camera, domElement) {\n    var _this;\n\n    _classCallCheck(this, PointerLockControls);\n\n    _this = _super.call(this);\n\n    __publicField(_assertThisInitialized(_this), \"camera\");\n\n    __publicField(_assertThisInitialized(_this), \"domElement\");\n\n    __publicField(_assertThisInitialized(_this), \"isLocked\");\n\n    __publicField(_assertThisInitialized(_this), \"minPolarAngle\");\n\n    __publicField(_assertThisInitialized(_this), \"maxPolarAngle\");\n\n    __publicField(_assertThisInitialized(_this), \"pointerSpeed\");\n\n    __publicField(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      if (!_this.domElement || _this.isLocked === false) return;\n      var movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      var movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n      _euler.setFromQuaternion(_this.camera.quaternion);\n\n      _euler.y -= movementX * 2e-3 * _this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * _this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - _this.maxPolarAngle, Math.min(_PI_2 - _this.minPolarAngle, _euler.x));\n\n      _this.camera.quaternion.setFromEuler(_euler);\n\n      _this.dispatchEvent(_changeEvent);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onPointerlockChange\", function () {\n      if (!_this.domElement) return;\n\n      if (_this.domElement.ownerDocument.pointerLockElement === _this.domElement) {\n        _this.dispatchEvent(_lockEvent);\n\n        _this.isLocked = true;\n      } else {\n        _this.dispatchEvent(_unlockEvent);\n\n        _this.isLocked = false;\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onPointerlockError\", function () {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n\n    __publicField(_assertThisInitialized(_this), \"connect\", function (domElement) {\n      _this.domElement = domElement || _this.domElement;\n      if (!_this.domElement) return;\n\n      _this.domElement.ownerDocument.addEventListener(\"mousemove\", _this.onMouseMove);\n\n      _this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", _this.onPointerlockChange);\n\n      _this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", _this.onPointerlockError);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"disconnect\", function () {\n      if (!_this.domElement) return;\n\n      _this.domElement.ownerDocument.removeEventListener(\"mousemove\", _this.onMouseMove);\n\n      _this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", _this.onPointerlockChange);\n\n      _this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", _this.onPointerlockError);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"dispose\", function () {\n      _this.disconnect();\n    });\n\n    __publicField(_assertThisInitialized(_this), \"getObject\", function () {\n      return _this.camera;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"direction\", new Vector3(0, 0, -1));\n\n    __publicField(_assertThisInitialized(_this), \"getDirection\", function (v) {\n      return v.copy(_this.direction).applyQuaternion(_this.camera.quaternion);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"moveForward\", function (distance) {\n      _vector.setFromMatrixColumn(_this.camera.matrix, 0);\n\n      _vector.crossVectors(_this.camera.up, _vector);\n\n      _this.camera.position.addScaledVector(_vector, distance);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"moveRight\", function (distance) {\n      _vector.setFromMatrixColumn(_this.camera.matrix, 0);\n\n      _this.camera.position.addScaledVector(_vector, distance);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"lock\", function () {\n      if (_this.domElement) _this.domElement.requestPointerLock();\n    });\n\n    __publicField(_assertThisInitialized(_this), \"unlock\", function () {\n      if (_this.domElement) _this.domElement.ownerDocument.exitPointerLock();\n    });\n\n    _this.camera = camera;\n    _this.domElement = domElement;\n    _this.isLocked = false;\n    _this.minPolarAngle = 0;\n    _this.maxPolarAngle = Math.PI;\n    _this.pointerSpeed = 1;\n    if (domElement) _this.connect(domElement);\n    return _this;\n  }\n\n  return PointerLockControls;\n}(EventDispatcher);\n\nexport { PointerLockControls };","map":{"version":3,"sources":["/Users/theodaguier/_workdir/dev/pro/e-do/E-Do-Studio/node_modules/three-stdlib/controls/PointerLockControls.js"],"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","Euler","Vector3","EventDispatcher","_euler","_vector","_changeEvent","type","_lockEvent","_unlockEvent","_PI_2","Math","PI","PointerLockControls","camera","domElement","event","isLocked","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","setFromQuaternion","quaternion","y","pointerSpeed","x","max","maxPolarAngle","min","minPolarAngle","setFromEuler","dispatchEvent","ownerDocument","pointerLockElement","console","error","addEventListener","onMouseMove","onPointerlockChange","onPointerlockError","removeEventListener","disconnect","v","copy","direction","applyQuaternion","distance","setFromMatrixColumn","matrix","crossVectors","up","position","addScaledVector","requestPointerLock","exitPointerLock","connect"],"mappings":"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","sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { Euler, Vector3, EventDispatcher } from \"three\";\nconst _euler = /* @__PURE__ */ new Euler(0, 0, 0, \"YXZ\");\nconst _vector = /* @__PURE__ */ new Vector3();\nconst _changeEvent = { type: \"change\" };\nconst _lockEvent = { type: \"lock\" };\nconst _unlockEvent = { type: \"unlock\" };\nconst _PI_2 = Math.PI / 2;\nclass PointerLockControls extends EventDispatcher {\n  constructor(camera, domElement) {\n    super();\n    __publicField(this, \"camera\");\n    __publicField(this, \"domElement\");\n    __publicField(this, \"isLocked\");\n    __publicField(this, \"minPolarAngle\");\n    __publicField(this, \"maxPolarAngle\");\n    __publicField(this, \"pointerSpeed\");\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (!this.domElement || this.isLocked === false)\n        return;\n      const movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n      const movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n      _euler.setFromQuaternion(this.camera.quaternion);\n      _euler.y -= movementX * 2e-3 * this.pointerSpeed;\n      _euler.x -= movementY * 2e-3 * this.pointerSpeed;\n      _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x));\n      this.camera.quaternion.setFromEuler(_euler);\n      this.dispatchEvent(_changeEvent);\n    });\n    __publicField(this, \"onPointerlockChange\", () => {\n      if (!this.domElement)\n        return;\n      if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n        this.dispatchEvent(_lockEvent);\n        this.isLocked = true;\n      } else {\n        this.dispatchEvent(_unlockEvent);\n        this.isLocked = false;\n      }\n    });\n    __publicField(this, \"onPointerlockError\", () => {\n      console.error(\"THREE.PointerLockControls: Unable to use Pointer Lock API\");\n    });\n    __publicField(this, \"connect\", (domElement) => {\n      this.domElement = domElement || this.domElement;\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.addEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.addEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"disconnect\", () => {\n      if (!this.domElement)\n        return;\n      this.domElement.ownerDocument.removeEventListener(\"mousemove\", this.onMouseMove);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockchange\", this.onPointerlockChange);\n      this.domElement.ownerDocument.removeEventListener(\"pointerlockerror\", this.onPointerlockError);\n    });\n    __publicField(this, \"dispose\", () => {\n      this.disconnect();\n    });\n    __publicField(this, \"getObject\", () => {\n      return this.camera;\n    });\n    __publicField(this, \"direction\", new Vector3(0, 0, -1));\n    __publicField(this, \"getDirection\", (v) => {\n      return v.copy(this.direction).applyQuaternion(this.camera.quaternion);\n    });\n    __publicField(this, \"moveForward\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      _vector.crossVectors(this.camera.up, _vector);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"moveRight\", (distance) => {\n      _vector.setFromMatrixColumn(this.camera.matrix, 0);\n      this.camera.position.addScaledVector(_vector, distance);\n    });\n    __publicField(this, \"lock\", () => {\n      if (this.domElement)\n        this.domElement.requestPointerLock();\n    });\n    __publicField(this, \"unlock\", () => {\n      if (this.domElement)\n        this.domElement.ownerDocument.exitPointerLock();\n    });\n    this.camera = camera;\n    this.domElement = domElement;\n    this.isLocked = false;\n    this.minPolarAngle = 0;\n    this.maxPolarAngle = Math.PI;\n    this.pointerSpeed = 1;\n    if (domElement)\n      this.connect(domElement);\n  }\n}\nexport {\n  PointerLockControls\n};\n"]},"metadata":{},"sourceType":"module"}