{"ast":null,"code":"import _classCallCheck from\"/Users/theodaguier/_dev/pro/e-do/website/old/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/theodaguier/_dev/pro/e-do/website/old/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/theodaguier/_dev/pro/e-do/website/old/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/theodaguier/_dev/pro/e-do/website/old/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import perso from\"Assets/img/blog/perso.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ArticleMobile=/*#__PURE__*/function(_React$Component){_inherits(ArticleMobile,_React$Component);var _super=_createSuper(ArticleMobile);function ArticleMobile(props){var _this;_classCallCheck(this,ArticleMobile);_this=_super.call(this,props);_this.state={article:[]};return _this;}_createClass(ArticleMobile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var url=window.location.pathname;url=url.replace('/blog/','');url=url.replace('/','');//console.log(url);\nfetch('https://www.e-do.studio/apiPHP/article.php/',{method:'POST',body:JSON.stringify({url:url})}).then(function(response){//console.log(response);\nreturn response.json();}).then(function(result){//console.log(result);\n_this2.setState({article_rs:result});}).catch(function(err){console.log(\"Error Reading data \"+err);});}},{key:\"render\",value:function render(){var articlesFound=this.state.article_rs&&this.state.article_rs.length;if(articlesFound){return this.state.article_rs.map(function(item,index){var options={day:'numeric',month:'long',year:'numeric'};var date=new Date(item.date);date=date.toLocaleDateString(\"fr-FR\",options);var pictures=item.other_pictures.split(\";\");function otherPictures(){if(pictures.length<2){return/*#__PURE__*/_jsx(\"img\",{className:\"otherPicture\",src:item.other_pictures});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"otherPicturesFlex\",children:pictures.map(function(element){return/*#__PURE__*/_jsx(\"img\",{className:\"otherPictures\",src:element});})});}}return/*#__PURE__*/_jsxs(\"div\",{className:\"article\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"category\",children:item.category}),/*#__PURE__*/_jsx(\"h1\",{className:\"articleTitle\",children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"authorBlock\",children:[item.author_picture?/*#__PURE__*/_jsx(\"img\",{src:item.author_picture,className:\"authorPicture\",alt:\"Auteur de l'article\"}):/*#__PURE__*/_jsx(\"div\",{className:\"imgBox\",children:/*#__PURE__*/_jsx(\"img\",{src:perso,className:\"perso\",alt:\"Auteur de l'article\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"author\",children:item.author}),/*#__PURE__*/_jsx(\"span\",{className:\"team\",children:\"E-Do Team\"}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:date})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainArticleContent\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mainPicture\",src:item.main_picture}),/*#__PURE__*/_jsx(\"p\",{className:\"articleContent\",children:item.post_content}),otherPictures()]})]},index);}.bind(this));}else{return/*#__PURE__*/_jsx(\"p\",{children:\"Impossible de charger l'article.\"});}}}]);return ArticleMobile;}(React.Component);export default ArticleMobile;","map":{"version":3,"sources":["/Users/theodaguier/_dev/pro/e-do/website/old/E-Do-Studio/src/ArticleMobile.js"],"names":["React","ArticleMobile","props","state","article","url","window","location","pathname","replace","fetch","method","body","JSON","stringify","then","response","json","result","setState","article_rs","catch","err","console","log","articlesFound","length","map","item","index","options","day","month","year","date","Date","toLocaleDateString","pictures","other_pictures","split","otherPictures","element","category","title","author_picture","perso","author","main_picture","post_content","bind","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport perso from 'Assets/img/blog/perso.svg';\n\nclass ArticleMobile extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {article: []};\n    }\n\n    componentDidMount(){\n        var url = window.location.pathname;\n        url = url.replace('/blog/', '');\n        url = url.replace('/', '');\n        //console.log(url);\n\n        fetch('https://www.e-do.studio/apiPHP/article.php/', { \n            method: 'POST',\n            body: JSON.stringify({\n                url: url\n            })\n        }).then(response => {\n            //console.log(response);\n            return response.json();\n        }).then(result => {\n            //console.log(result);\n            this.setState({\n                article_rs:result\n            });\n        }).catch(err => {\n            console.log(\"Error Reading data \" + err);\n        });\n    }\n\n    render(){\n        const articlesFound = this.state.article_rs && this.state.article_rs.length;\n        if(articlesFound){\n            return(\n                this.state.article_rs.map(function(item, index){\n                    var options = {day: 'numeric', month: 'long', year: 'numeric'}\n                    var date = new Date(item.date);\n                    date = date.toLocaleDateString(\"fr-FR\", options);\n                    let pictures = item.other_pictures.split(\";\");\n                    function otherPictures(){\n                        if(pictures.length < 2){\n                            return(<img className=\"otherPicture\" src={item.other_pictures} />);\n                        } else {\n                            return(\n                                <div className=\"otherPicturesFlex\">\n                                    {pictures.map(element => <img className=\"otherPictures\" src={element} />)}\n                                </div>\n                            );\n                        }\n                    }\n                    return(\n                        <div className=\"article\" key={index}>\n                            <h2 className=\"category\">{item.category}</h2>\n                            <h1 className=\"articleTitle\">{item.title}</h1>\n                            <div className=\"authorBlock\">\n                                { item.author_picture ? <img src={item.author_picture} className=\"authorPicture\" alt=\"Auteur de l'article\" /> : <div className=\"imgBox\"><img src={perso} className=\"perso\" alt=\"Auteur de l'article\" /></div> }\n                                <span className=\"author\">{item.author}</span>\n                                <span className=\"team\">E-Do Team</span>\n                                <span className=\"date\">{date}</span>\n                                {/*<span className=\"share\">Partager <img src={share} alt=\"Partager l'article\" /></span>*/}\n                            </div>\n                            <div className=\"mainArticleContent\">\n                                <img className=\"mainPicture\" src={item.main_picture} />\n                                <p className=\"articleContent\">{item.post_content}</p>\n                                {otherPictures()}\n                            </div>\n                        </div>\n                    )\n                }.bind(this))\n            )\n        }else{\n            return(\n                <p>Impossible de charger l'article.</p>\n            )\n        }\n    }\n}\n\nexport default ArticleMobile;"]},"metadata":{},"sourceType":"module"}