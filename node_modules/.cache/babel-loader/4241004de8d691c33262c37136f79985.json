{"ast":null,"code":"import _classCallCheck from \"/Users/theodaguier/Repositories/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/theodaguier/Repositories/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/theodaguier/Repositories/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/theodaguier/Repositories/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/theodaguier/Repositories/E-Do-Studio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar __defProp = Object.defineProperty;\n\nvar __defNormalProp = function __defNormalProp(obj, key, value) {\n  return key in obj ? __defProp(obj, key, {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: value\n  }) : obj[key] = value;\n};\n\nvar __publicField = function __publicField(obj, key, value) {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n  return value;\n};\n\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, MOUSE, PerspectiveCamera, OrthographicCamera } from \"three\";\n\nvar STATE = /* @__PURE__ */function (STATE2) {\n  STATE2[STATE2[\"NONE\"] = -1] = \"NONE\";\n  STATE2[STATE2[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE2[STATE2[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE2[STATE2[\"PAN\"] = 2] = \"PAN\";\n  STATE2[STATE2[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE2[STATE2[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE2[STATE2[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE2[STATE2[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n  return STATE2;\n}(STATE || {});\n\nvar CameraControls = /*#__PURE__*/function (_EventDispatcher) {\n  _inherits(CameraControls, _EventDispatcher);\n\n  var _super = _createSuper(CameraControls);\n\n  function CameraControls(object, domElement) {\n    var _this;\n\n    _classCallCheck(this, CameraControls);\n\n    _this = _super.call(this);\n\n    __publicField(_assertThisInitialized(_this), \"object\");\n\n    __publicField(_assertThisInitialized(_this), \"domElement\");\n    /** Set to false to disable this control */\n\n\n    __publicField(_assertThisInitialized(_this), \"enabled\", true);\n    /** \"target\" sets the location of focus, where the object orbits around */\n\n\n    __publicField(_assertThisInitialized(_this), \"target\", new Vector3());\n    /** Set to true to enable trackball behavior */\n\n\n    __publicField(_assertThisInitialized(_this), \"trackball\", false);\n    /** How far you can dolly in ( PerspectiveCamera only ) */\n\n\n    __publicField(_assertThisInitialized(_this), \"minDistance\", 0);\n    /** How far you can dolly out ( PerspectiveCamera only ) */\n\n\n    __publicField(_assertThisInitialized(_this), \"maxDistance\", Infinity); // How far you can zoom in and out ( OrthographicCamera only )\n\n\n    __publicField(_assertThisInitialized(_this), \"minZoom\", 0);\n\n    __publicField(_assertThisInitialized(_this), \"maxZoom\", Infinity); // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n\n    __publicField(_assertThisInitialized(_this), \"minPolarAngle\", 0);\n\n    __publicField(_assertThisInitialized(_this), \"maxPolarAngle\", Math.PI); // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n\n    __publicField(_assertThisInitialized(_this), \"minAzimuthAngle\", -Infinity); // radians\n\n\n    __publicField(_assertThisInitialized(_this), \"maxAzimuthAngle\", Infinity); // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n\n    __publicField(_assertThisInitialized(_this), \"enableDamping\", false);\n\n    __publicField(_assertThisInitialized(_this), \"dampingFactor\", 0.05);\n    /**\n     * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n     * Set to false to disable zooming\n     */\n\n\n    __publicField(_assertThisInitialized(_this), \"enableZoom\", true);\n\n    __publicField(_assertThisInitialized(_this), \"zoomSpeed\", 1);\n    /** Set to false to disable rotating */\n\n\n    __publicField(_assertThisInitialized(_this), \"enableRotate\", true);\n\n    __publicField(_assertThisInitialized(_this), \"rotateSpeed\", 1);\n    /** Set to false to disable panning */\n\n\n    __publicField(_assertThisInitialized(_this), \"enablePan\", true);\n\n    __publicField(_assertThisInitialized(_this), \"panSpeed\", 1);\n    /** if true, pan in screen-space */\n\n\n    __publicField(_assertThisInitialized(_this), \"screenSpacePanning\", false);\n    /** pixels moved per arrow key push */\n\n\n    __publicField(_assertThisInitialized(_this), \"keyPanSpeed\", 7);\n    /**\n     * Set to true to automatically rotate around the target\n     * If auto-rotate is enabled, you must call controls.update() in your animation loop\n     * auto-rotate is not supported for trackball behavior\n     */\n\n\n    __publicField(_assertThisInitialized(_this), \"autoRotate\", false);\n\n    __publicField(_assertThisInitialized(_this), \"autoRotateSpeed\", 2); // 30 seconds per round when fps is 60\n\n    /** Set to false to disable use of the keys */\n\n\n    __publicField(_assertThisInitialized(_this), \"enableKeys\", true);\n    /** The four arrow keys */\n\n\n    __publicField(_assertThisInitialized(_this), \"keys\", {\n      LEFT: \"ArrowLeft\",\n      UP: \"ArrowUp\",\n      RIGHT: \"ArrowRight\",\n      BOTTOM: \"ArrowDown\"\n    });\n\n    __publicField(_assertThisInitialized(_this), \"mouseButtons\");\n    /** Touch fingers */\n\n\n    __publicField(_assertThisInitialized(_this), \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    }); // for reset\n\n\n    __publicField(_assertThisInitialized(_this), \"target0\");\n\n    __publicField(_assertThisInitialized(_this), \"position0\");\n\n    __publicField(_assertThisInitialized(_this), \"quaternion0\");\n\n    __publicField(_assertThisInitialized(_this), \"zoom0\"); // current position in spherical coordinates\n\n\n    __publicField(_assertThisInitialized(_this), \"spherical\", new Spherical());\n\n    __publicField(_assertThisInitialized(_this), \"sphericalDelta\", new Spherical());\n\n    __publicField(_assertThisInitialized(_this), \"changeEvent\", {\n      type: \"change\"\n    });\n\n    __publicField(_assertThisInitialized(_this), \"startEvent\", {\n      type: \"start\"\n    });\n\n    __publicField(_assertThisInitialized(_this), \"endEvent\", {\n      type: \"end\"\n    });\n\n    __publicField(_assertThisInitialized(_this), \"state\", -1);\n\n    __publicField(_assertThisInitialized(_this), \"EPS\", 1e-6);\n\n    __publicField(_assertThisInitialized(_this), \"scale\", 1);\n\n    __publicField(_assertThisInitialized(_this), \"panOffset\", new Vector3());\n\n    __publicField(_assertThisInitialized(_this), \"zoomChanged\", false);\n\n    __publicField(_assertThisInitialized(_this), \"rotateStart\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"rotateEnd\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"rotateDelta\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"panStart\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"panEnd\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"panDelta\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"dollyStart\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"dollyEnd\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"dollyDelta\", new Vector2());\n\n    __publicField(_assertThisInitialized(_this), \"offset\", new Vector3());\n\n    __publicField(_assertThisInitialized(_this), \"lastPosition\", new Vector3());\n\n    __publicField(_assertThisInitialized(_this), \"lastQuaternion\", new Quaternion());\n\n    __publicField(_assertThisInitialized(_this), \"q\", new Quaternion());\n\n    __publicField(_assertThisInitialized(_this), \"v\", new Vector3());\n\n    __publicField(_assertThisInitialized(_this), \"vec\", new Vector3());\n\n    __publicField(_assertThisInitialized(_this), \"quat\");\n\n    __publicField(_assertThisInitialized(_this), \"quatInverse\");\n\n    __publicField(_assertThisInitialized(_this), \"getPolarAngle\", function () {\n      return _this.spherical.phi;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"getAzimuthalAngle\", function () {\n      return _this.spherical.theta;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"saveState\", function () {\n      _this.target0.copy(_this.target);\n\n      _this.position0.copy(_this.object.position);\n\n      _this.quaternion0.copy(_this.object.quaternion);\n\n      _this.zoom0 = _this.object.zoom;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"reset\", function () {\n      _this.target.copy(_this.target0);\n\n      _this.object.position.copy(_this.position0);\n\n      _this.object.quaternion.copy(_this.quaternion0);\n\n      _this.object.zoom = _this.zoom0;\n\n      _this.object.updateProjectionMatrix();\n\n      _this.dispatchEvent(_this.changeEvent);\n\n      _this.update();\n\n      _this.state = -1;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"dispose\", function () {\n      _this.domElement.removeEventListener(\"contextmenu\", _this.onContextMenu, false);\n\n      _this.domElement.removeEventListener(\"mousedown\", _this.onMouseDown, false);\n\n      _this.domElement.removeEventListener(\"wheel\", _this.onMouseWheel, false);\n\n      _this.domElement.removeEventListener(\"touchstart\", _this.onTouchStart, false);\n\n      _this.domElement.removeEventListener(\"touchend\", _this.onTouchEnd, false);\n\n      _this.domElement.removeEventListener(\"touchmove\", _this.onTouchMove, false);\n\n      document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n\n      _this.domElement.removeEventListener(\"keydown\", _this.onKeyDown, false);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"update\", function () {\n      var position = _this.object.position;\n\n      _this.offset.copy(position).sub(_this.target);\n\n      if (_this.trackball) {\n        if (_this.sphericalDelta.theta) {\n          _this.vec.set(0, 1, 0).applyQuaternion(_this.object.quaternion);\n\n          var factor = _this.enableDamping ? _this.dampingFactor : 1;\n\n          _this.q.setFromAxisAngle(_this.vec, _this.sphericalDelta.theta * factor);\n\n          _this.object.quaternion.premultiply(_this.q);\n\n          _this.offset.applyQuaternion(_this.q);\n        }\n\n        if (_this.sphericalDelta.phi) {\n          _this.vec.set(1, 0, 0).applyQuaternion(_this.object.quaternion);\n\n          var _factor = _this.enableDamping ? _this.dampingFactor : 1;\n\n          _this.q.setFromAxisAngle(_this.vec, _this.sphericalDelta.phi * _factor);\n\n          _this.object.quaternion.premultiply(_this.q);\n\n          _this.offset.applyQuaternion(_this.q);\n        }\n\n        _this.offset.multiplyScalar(_this.scale);\n\n        _this.offset.clampLength(_this.minDistance, _this.maxDistance);\n      } else {\n        _this.offset.applyQuaternion(_this.quat);\n\n        if (_this.autoRotate && _this.state === -1) {\n          _this.rotateLeft(_this.getAutoRotationAngle());\n        }\n\n        _this.spherical.setFromVector3(_this.offset);\n\n        if (_this.enableDamping) {\n          _this.spherical.theta += _this.sphericalDelta.theta * _this.dampingFactor;\n          _this.spherical.phi += _this.sphericalDelta.phi * _this.dampingFactor;\n        } else {\n          _this.spherical.theta += _this.sphericalDelta.theta;\n          _this.spherical.phi += _this.sphericalDelta.phi;\n        }\n\n        _this.spherical.theta = Math.max(_this.minAzimuthAngle, Math.min(_this.maxAzimuthAngle, _this.spherical.theta));\n        _this.spherical.phi = Math.max(_this.minPolarAngle, Math.min(_this.maxPolarAngle, _this.spherical.phi));\n\n        _this.spherical.makeSafe();\n\n        _this.spherical.radius *= _this.scale;\n        _this.spherical.radius = Math.max(_this.minDistance, Math.min(_this.maxDistance, _this.spherical.radius));\n\n        _this.offset.setFromSpherical(_this.spherical);\n\n        _this.offset.applyQuaternion(_this.quatInverse);\n      }\n\n      if (_this.enableDamping === true) {\n        _this.target.addScaledVector(_this.panOffset, _this.dampingFactor);\n      } else {\n        _this.target.add(_this.panOffset);\n      }\n\n      position.copy(_this.target).add(_this.offset);\n\n      if (_this.trackball === false) {\n        _this.object.lookAt(_this.target);\n      }\n\n      if (_this.enableDamping === true) {\n        _this.sphericalDelta.theta *= 1 - _this.dampingFactor;\n        _this.sphericalDelta.phi *= 1 - _this.dampingFactor;\n\n        _this.panOffset.multiplyScalar(1 - _this.dampingFactor);\n      } else {\n        _this.sphericalDelta.set(0, 0, 0);\n\n        _this.panOffset.set(0, 0, 0);\n      }\n\n      _this.scale = 1;\n\n      if (_this.zoomChanged || _this.lastPosition.distanceToSquared(_this.object.position) > _this.EPS || 8 * (1 - _this.lastQuaternion.dot(_this.object.quaternion)) > _this.EPS) {\n        _this.dispatchEvent(_this.changeEvent);\n\n        _this.lastPosition.copy(_this.object.position);\n\n        _this.lastQuaternion.copy(_this.object.quaternion);\n\n        _this.zoomChanged = false;\n        return true;\n      }\n\n      return false;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"getAutoRotationAngle\", function () {\n      return 2 * Math.PI / 60 / 60 * _this.autoRotateSpeed;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"getZoomScale\", function () {\n      return Math.pow(0.95, _this.zoomSpeed);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"rotateLeft\", function (angle) {\n      _this.sphericalDelta.theta -= angle;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"rotateUp\", function (angle) {\n      _this.sphericalDelta.phi -= angle;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"panLeft\", function (distance, objectMatrix) {\n      _this.v.setFromMatrixColumn(objectMatrix, 0);\n\n      _this.v.multiplyScalar(-distance);\n\n      _this.panOffset.add(_this.v);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"panUp\", function (distance, objectMatrix) {\n      if (_this.screenSpacePanning === true) {\n        _this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        _this.v.setFromMatrixColumn(objectMatrix, 0);\n\n        _this.v.crossVectors(_this.object.up, _this.v);\n      }\n\n      _this.v.multiplyScalar(distance);\n\n      _this.panOffset.add(_this.v);\n    }); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    __publicField(_assertThisInitialized(_this), \"pan\", function (deltaX, deltaY) {\n      var element = _this.domElement;\n\n      if (_this.object instanceof PerspectiveCamera) {\n        var position = _this.object.position;\n\n        _this.offset.copy(position).sub(_this.target);\n\n        var targetDistance = _this.offset.length();\n\n        targetDistance *= Math.tan(_this.object.fov / 2 * Math.PI / 180);\n\n        _this.panLeft(2 * deltaX * targetDistance / element.clientHeight, _this.object.matrix);\n\n        _this.panUp(2 * deltaY * targetDistance / element.clientHeight, _this.object.matrix);\n      } else if (_this.object.isOrthographicCamera) {\n        _this.panLeft(deltaX * (_this.object.right - _this.object.left) / _this.object.zoom / element.clientWidth, _this.object.matrix);\n\n        _this.panUp(deltaY * (_this.object.top - _this.object.bottom) / _this.object.zoom / element.clientHeight, _this.object.matrix);\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - pan disabled.\");\n        _this.enablePan = false;\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"dollyIn\", function (dollyScale) {\n      if (_this.object instanceof PerspectiveCamera) {\n        _this.scale /= dollyScale;\n      } else if (_this.object instanceof OrthographicCamera) {\n        _this.object.zoom = Math.max(_this.minZoom, Math.min(_this.maxZoom, _this.object.zoom * dollyScale));\n\n        _this.object.updateProjectionMatrix();\n\n        _this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        _this.enableZoom = false;\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"dollyOut\", function (dollyScale) {\n      if (_this.object instanceof PerspectiveCamera) {\n        _this.scale *= dollyScale;\n      } else if (_this.object instanceof OrthographicCamera) {\n        _this.object.zoom = Math.max(_this.minZoom, Math.min(_this.maxZoom, _this.object.zoom / dollyScale));\n\n        _this.object.updateProjectionMatrix();\n\n        _this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        _this.enableZoom = false;\n      }\n    }); // event callbacks - update the object state\n\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseDownRotate\", function (event) {\n      _this.rotateStart.set(event.clientX, event.clientY);\n    }); // TODO: confirm if worthwhile to return the Vector2 instead of void\n\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseDownDolly\", function (event) {\n      _this.dollyStart.set(event.clientX, event.clientY);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseDownPan\", function (event) {\n      _this.panStart.set(event.clientX, event.clientY);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseMoveRotate\", function (event) {\n      _this.rotateEnd.set(event.clientX, event.clientY);\n\n      _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart).multiplyScalar(_this.rotateSpeed);\n\n      var element = _this.domElement;\n\n      _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientHeight);\n\n      _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight);\n\n      _this.rotateStart.copy(_this.rotateEnd);\n\n      _this.update();\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseMoveDolly\", function (event) {\n      _this.dollyEnd.set(event.clientX, event.clientY);\n\n      _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n\n      if (_this.dollyDelta.y > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      } else if (_this.dollyDelta.y < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      }\n\n      _this.dollyStart.copy(_this.dollyEnd);\n\n      _this.update();\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseMovePan\", function (event) {\n      _this.panEnd.set(event.clientX, event.clientY);\n\n      _this.panDelta.subVectors(_this.panEnd, _this.panStart).multiplyScalar(_this.panSpeed);\n\n      _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n      _this.panStart.copy(_this.panEnd);\n\n      _this.update();\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleMouseWheel\", function (event) {\n      if (event.deltaY < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      }\n\n      _this.update();\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      var needsUpdate = false;\n\n      switch (event.code) {\n        case _this.keys.UP:\n          _this.pan(0, _this.keyPanSpeed);\n\n          needsUpdate = true;\n          break;\n\n        case _this.keys.BOTTOM:\n          _this.pan(0, -_this.keyPanSpeed);\n\n          needsUpdate = true;\n          break;\n\n        case _this.keys.LEFT:\n          _this.pan(_this.keyPanSpeed, 0);\n\n          needsUpdate = true;\n          break;\n\n        case _this.keys.RIGHT:\n          _this.pan(-_this.keyPanSpeed, 0);\n\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        event.preventDefault();\n\n        _this.update();\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchStartRotate\", function (event) {\n      if (event.touches.length == 1) {\n        _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.rotateStart.set(x, y);\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchStartPan\", function (event) {\n      if (event.touches.length == 1) {\n        _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.panStart.set(x, y);\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchStartDolly\", function (event) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      _this.dollyStart.set(0, distance);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchStartDollyPan\", function (event) {\n      if (_this.enableZoom) _this.handleTouchStartDolly(event);\n      if (_this.enablePan) _this.handleTouchStartPan(event);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchStartDollyRotate\", function (event) {\n      if (_this.enableZoom) _this.handleTouchStartDolly(event);\n      if (_this.enableRotate) _this.handleTouchStartRotate(event);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchMoveRotate\", function (event) {\n      if (event.touches.length == 1) {\n        _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.rotateEnd.set(x, y);\n      }\n\n      _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart).multiplyScalar(_this.rotateSpeed);\n\n      var element = _this.domElement;\n\n      _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientHeight);\n\n      _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight);\n\n      _this.rotateStart.copy(_this.rotateEnd);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchMovePan\", function (event) {\n      if (event.touches.length == 1) {\n        _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        var x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        var y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n\n        _this.panEnd.set(x, y);\n      }\n\n      _this.panDelta.subVectors(_this.panEnd, _this.panStart).multiplyScalar(_this.panSpeed);\n\n      _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n      _this.panStart.copy(_this.panEnd);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchMoveDolly\", function (event) {\n      var dx = event.touches[0].pageX - event.touches[1].pageX;\n      var dy = event.touches[0].pageY - event.touches[1].pageY;\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      _this.dollyEnd.set(0, distance);\n\n      _this.dollyDelta.set(0, Math.pow(_this.dollyEnd.y / _this.dollyStart.y, _this.zoomSpeed));\n\n      _this.dollyIn(_this.dollyDelta.y);\n\n      _this.dollyStart.copy(_this.dollyEnd);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchMoveDollyPan\", function (event) {\n      if (_this.enableZoom) _this.handleTouchMoveDolly(event);\n      if (_this.enablePan) _this.handleTouchMovePan(event);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"handleTouchMoveDollyRotate\", function (event) {\n      if (_this.enableZoom) _this.handleTouchMoveDolly(event);\n      if (_this.enableRotate) _this.handleTouchMoveRotate(event);\n    }); //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    __publicField(_assertThisInitialized(_this), \"onMouseDown\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n      _this.domElement.focus ? _this.domElement.focus() : window.focus();\n      var mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = _this.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = _this.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = _this.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (_this.enableZoom === false) return;\n\n          _this.handleMouseDownDolly(event);\n\n          _this.state = 1;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (_this.enablePan === false) return;\n\n            _this.handleMouseDownPan(event);\n\n            _this.state = 2;\n          } else {\n            if (_this.enableRotate === false) return;\n\n            _this.handleMouseDownRotate(event);\n\n            _this.state = 0;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (_this.enableRotate === false) return;\n\n            _this.handleMouseDownRotate(event);\n\n            _this.state = 0;\n          } else {\n            if (_this.enablePan === false) return;\n\n            _this.handleMouseDownPan(event);\n\n            _this.state = 2;\n          }\n\n          break;\n\n        default:\n          _this.state = -1;\n      }\n\n      if (_this.state !== -1) {\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n\n        _this.dispatchEvent(_this.startEvent);\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onMouseMove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (_this.state) {\n        case 0:\n          if (_this.enableRotate === false) return;\n\n          _this.handleMouseMoveRotate(event);\n\n          break;\n\n        case 1:\n          if (_this.enableZoom === false) return;\n\n          _this.handleMouseMoveDolly(event);\n\n          break;\n\n        case 2:\n          if (_this.enablePan === false) return;\n\n          _this.handleMouseMovePan(event);\n\n          break;\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onMouseUp\", function () {\n      if (_this.enabled === false) return;\n      document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n\n      _this.dispatchEvent(_this.endEvent);\n\n      _this.state = -1;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onMouseWheel\", function (event) {\n      if (_this.enabled === false || _this.enableZoom === false || _this.state !== -1 && _this.state !== 0) {\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.dispatchEvent(_this.startEvent);\n\n      _this.handleMouseWheel(event);\n\n      _this.dispatchEvent(_this.endEvent);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false) return;\n\n      _this.handleKeyDown(event);\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onTouchStart\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (event.touches.length) {\n        case 1:\n          switch (_this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (_this.enableRotate === false) return;\n\n              _this.handleTouchStartRotate(event);\n\n              _this.state = 3;\n              break;\n\n            case TOUCH.PAN:\n              if (_this.enablePan === false) return;\n\n              _this.handleTouchStartPan(event);\n\n              _this.state = 4;\n              break;\n\n            default:\n              _this.state = -1;\n          }\n\n          break;\n\n        case 2:\n          switch (_this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (_this.enableZoom === false && _this.enablePan === false) return;\n\n              _this.handleTouchStartDollyPan(event);\n\n              _this.state = 5;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (_this.enableZoom === false && _this.enableRotate === false) return;\n\n              _this.handleTouchStartDollyRotate(event);\n\n              _this.state = 6;\n              break;\n\n            default:\n              _this.state = -1;\n          }\n\n          break;\n\n        default:\n          _this.state = -1;\n      }\n\n      if (_this.state !== -1) {\n        _this.dispatchEvent(_this.startEvent);\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onTouchMove\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      switch (_this.state) {\n        case 3:\n          if (_this.enableRotate === false) return;\n\n          _this.handleTouchMoveRotate(event);\n\n          _this.update();\n\n          break;\n\n        case 4:\n          if (_this.enablePan === false) return;\n\n          _this.handleTouchMovePan(event);\n\n          _this.update();\n\n          break;\n\n        case 5:\n          if (_this.enableZoom === false && _this.enablePan === false) return;\n\n          _this.handleTouchMoveDollyPan(event);\n\n          _this.update();\n\n          break;\n\n        case 6:\n          if (_this.enableZoom === false && _this.enableRotate === false) return;\n\n          _this.handleTouchMoveDollyRotate(event);\n\n          _this.update();\n\n          break;\n\n        default:\n          _this.state = -1;\n      }\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onTouchEnd\", function () {\n      if (_this.enabled === false) return;\n\n      _this.dispatchEvent(_this.endEvent);\n\n      _this.state = -1;\n    });\n\n    __publicField(_assertThisInitialized(_this), \"onContextMenu\", function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n    });\n\n    if (domElement === void 0) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n\n    if (domElement instanceof Document) {\n      console.error('THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n    }\n\n    _this.object = object;\n    _this.domElement = domElement;\n    _this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    };\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.quaternion0 = _this.object.quaternion.clone();\n    _this.zoom0 = _this.object.zoom;\n    _this.quat = new Quaternion().setFromUnitVectors(_this.object.up, new Vector3(0, 1, 0));\n    _this.quatInverse = _this.quat.clone().invert();\n    _this.lastPosition = new Vector3();\n    _this.lastQuaternion = new Quaternion();\n\n    _this.domElement.addEventListener(\"contextmenu\", _this.onContextMenu, false);\n\n    _this.domElement.addEventListener(\"mousedown\", _this.onMouseDown, false);\n\n    _this.domElement.addEventListener(\"wheel\", _this.onMouseWheel, false);\n\n    _this.domElement.addEventListener(\"touchstart\", _this.onTouchStart, false);\n\n    _this.domElement.addEventListener(\"touchend\", _this.onTouchEnd, false);\n\n    _this.domElement.addEventListener(\"touchmove\", _this.onTouchMove, false);\n\n    _this.domElement.addEventListener(\"keydown\", _this.onKeyDown, false);\n\n    if (_this.domElement.tabIndex === -1) {\n      _this.domElement.tabIndex = 0;\n    }\n\n    _this.object.lookAt(_this.target);\n\n    _this.update();\n\n    _this.saveState();\n\n    return _this;\n  }\n\n  _createClass(CameraControls, [{\n    key: \"handleMouseUp\",\n    value: function handleMouseUp() {}\n  }, {\n    key: \"handleTouchEnd\",\n    value: function handleTouchEnd() {}\n  }]);\n\n  return CameraControls;\n}(EventDispatcher);\n\nvar OrbitControlsExp = /*#__PURE__*/function (_CameraControls) {\n  _inherits(OrbitControlsExp, _CameraControls);\n\n  var _super2 = _createSuper(OrbitControlsExp);\n\n  function OrbitControlsExp(object, domElement) {\n    var _this2;\n\n    _classCallCheck(this, OrbitControlsExp);\n\n    _this2 = _super2.call(this, object, domElement);\n\n    __publicField(_assertThisInitialized(_this2), \"mouseButtons\");\n\n    __publicField(_assertThisInitialized(_this2), \"touches\");\n\n    _this2.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    _this2.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n    return _this2;\n  }\n\n  return OrbitControlsExp;\n}(CameraControls);\n\nvar MapControlsExp = /*#__PURE__*/function (_CameraControls2) {\n  _inherits(MapControlsExp, _CameraControls2);\n\n  var _super3 = _createSuper(MapControlsExp);\n\n  function MapControlsExp(object, domElement) {\n    var _this3;\n\n    _classCallCheck(this, MapControlsExp);\n\n    _this3 = _super3.call(this, object, domElement);\n\n    __publicField(_assertThisInitialized(_this3), \"mouseButtons\");\n\n    __publicField(_assertThisInitialized(_this3), \"touches\");\n\n    _this3.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    _this3.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n    return _this3;\n  }\n\n  return MapControlsExp;\n}(CameraControls);\n\nvar TrackballControlsExp = /*#__PURE__*/function (_CameraControls3) {\n  _inherits(TrackballControlsExp, _CameraControls3);\n\n  var _super4 = _createSuper(TrackballControlsExp);\n\n  function TrackballControlsExp(object, domElement) {\n    var _this4;\n\n    _classCallCheck(this, TrackballControlsExp);\n\n    _this4 = _super4.call(this, object, domElement);\n\n    __publicField(_assertThisInitialized(_this4), \"trackball\");\n\n    __publicField(_assertThisInitialized(_this4), \"screenSpacePanning\");\n\n    __publicField(_assertThisInitialized(_this4), \"autoRotate\");\n\n    __publicField(_assertThisInitialized(_this4), \"mouseButtons\");\n\n    __publicField(_assertThisInitialized(_this4), \"touches\");\n\n    _this4.trackball = true;\n    _this4.screenSpacePanning = true;\n    _this4.autoRotate = false;\n    _this4.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    _this4.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n    return _this4;\n  }\n\n  return TrackballControlsExp;\n}(CameraControls);\n\nexport { CameraControls, MapControlsExp, OrbitControlsExp, STATE, TrackballControlsExp };","map":{"version":3,"sources":["/Users/theodaguier/Repositories/E-Do-Studio/node_modules/three-stdlib/controls/experimental/CameraControls.js"],"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","EventDispatcher","Vector3","TOUCH","Spherical","Vector2","Quaternion","MOUSE","PerspectiveCamera","OrthographicCamera","STATE","STATE2","CameraControls","object","domElement","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","ONE","ROTATE","TWO","DOLLY_PAN","type","spherical","phi","theta","target0","copy","target","position0","position","quaternion0","quaternion","zoom0","zoom","updateProjectionMatrix","dispatchEvent","changeEvent","update","state","removeEventListener","onContextMenu","onMouseDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","document","onMouseMove","onMouseUp","onKeyDown","offset","sub","trackball","sphericalDelta","vec","set","applyQuaternion","factor","enableDamping","dampingFactor","q","setFromAxisAngle","premultiply","multiplyScalar","scale","clampLength","minDistance","maxDistance","quat","autoRotate","rotateLeft","getAutoRotationAngle","setFromVector3","max","minAzimuthAngle","min","maxAzimuthAngle","minPolarAngle","maxPolarAngle","makeSafe","radius","setFromSpherical","quatInverse","addScaledVector","panOffset","add","lookAt","zoomChanged","lastPosition","distanceToSquared","EPS","lastQuaternion","dot","autoRotateSpeed","pow","zoomSpeed","angle","distance","objectMatrix","v","setFromMatrixColumn","screenSpacePanning","crossVectors","up","deltaX","deltaY","element","targetDistance","length","tan","fov","panLeft","clientHeight","matrix","panUp","isOrthographicCamera","right","left","clientWidth","top","bottom","console","warn","enablePan","dollyScale","minZoom","maxZoom","enableZoom","event","rotateStart","clientX","clientY","dollyStart","panStart","rotateEnd","rotateDelta","subVectors","rotateSpeed","x","rotateUp","y","dollyEnd","dollyDelta","dollyIn","getZoomScale","dollyOut","panEnd","panDelta","panSpeed","pan","needsUpdate","code","keys","keyPanSpeed","preventDefault","touches","pageX","pageY","dx","dy","sqrt","handleTouchStartDolly","handleTouchStartPan","enableRotate","handleTouchStartRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchMoveRotate","enabled","focus","window","mouseAction","button","mouseButtons","MIDDLE","DOLLY","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","handleMouseDownPan","handleMouseDownRotate","PAN","addEventListener","startEvent","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","endEvent","handleMouseWheel","enableKeys","handleKeyDown","handleTouchStartDollyPan","DOLLY_ROTATE","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","Document","error","clone","setFromUnitVectors","invert","tabIndex","saveState","OrbitControlsExp","MapControlsExp","TrackballControlsExp"],"mappings":";;;;;AAAA,IAAIA,SAAS,GAAGC,MAAM,CAACC,cAAvB;;AACA,IAAIC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,GAAD,EAAMC,GAAN,EAAWC,KAAX;AAAA,SAAqBD,GAAG,IAAID,GAAP,GAAaJ,SAAS,CAACI,GAAD,EAAMC,GAAN,EAAW;AAAEE,IAAAA,UAAU,EAAE,IAAd;AAAoBC,IAAAA,YAAY,EAAE,IAAlC;AAAwCC,IAAAA,QAAQ,EAAE,IAAlD;AAAwDH,IAAAA,KAAK,EAALA;AAAxD,GAAX,CAAtB,GAAoGF,GAAG,CAACC,GAAD,CAAH,GAAWC,KAApI;AAAA,CAAtB;;AACA,IAAII,aAAa,GAAG,SAAhBA,aAAgB,CAACN,GAAD,EAAMC,GAAN,EAAWC,KAAX,EAAqB;AACvCH,EAAAA,eAAe,CAACC,GAAD,EAAM,OAAOC,GAAP,KAAe,QAAf,GAA0BA,GAAG,GAAG,EAAhC,GAAqCA,GAA3C,EAAgDC,KAAhD,CAAf;;AACA,SAAOA,KAAP;AACD,CAHD;;AAIA,SAASK,eAAT,EAA0BC,OAA1B,EAAmCC,KAAnC,EAA0CC,SAA1C,EAAqDC,OAArD,EAA8DC,UAA9D,EAA0EC,KAA1E,EAAiFC,iBAAjF,EAAoGC,kBAApG,QAA8H,OAA9H;;AACA,IAAIC,KAAK,GAAG,eAAiB,UAACC,MAAD,EAAY;AACvCA,EAAAA,MAAM,CAACA,MAAM,CAAC,MAAD,CAAN,GAAiB,CAAC,CAAnB,CAAN,GAA8B,MAA9B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,QAAD,CAAN,GAAmB,CAApB,CAAN,GAA+B,QAA/B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,OAAD,CAAN,GAAkB,CAAnB,CAAN,GAA8B,OAA9B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,KAAD,CAAN,GAAgB,CAAjB,CAAN,GAA4B,KAA5B;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,cAAD,CAAN,GAAyB,CAA1B,CAAN,GAAqC,cAArC;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,WAAD,CAAN,GAAsB,CAAvB,CAAN,GAAkC,WAAlC;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,iBAAD,CAAN,GAA4B,CAA7B,CAAN,GAAwC,iBAAxC;AACAA,EAAAA,MAAM,CAACA,MAAM,CAAC,oBAAD,CAAN,GAA+B,CAAhC,CAAN,GAA2C,oBAA3C;AACA,SAAOA,MAAP;AACD,CAV2B,CAUzBD,KAAK,IAAI,EAVgB,CAA5B;;IAWME,c;;;;;AACJ,0BAAYC,MAAZ,EAAoBC,UAApB,EAAgC;AAAA;;AAAA;;AAC9B;;AACAd,IAAAA,aAAa,gCAAO,QAAP,CAAb;;AACAA,IAAAA,aAAa,gCAAO,YAAP,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,SAAP,EAAkB,IAAlB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,QAAP,EAAiB,IAAIE,OAAJ,EAAjB,CAAb;AACA;;;AACAF,IAAAA,aAAa,gCAAO,WAAP,EAAoB,KAApB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,aAAP,EAAsB,CAAtB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,aAAP,EAAsBe,QAAtB,CAAb,CAb8B,CAc9B;;;AACAf,IAAAA,aAAa,gCAAO,SAAP,EAAkB,CAAlB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,SAAP,EAAkBe,QAAlB,CAAb,CAhB8B,CAiB9B;AACA;;;AACAf,IAAAA,aAAa,gCAAO,eAAP,EAAwB,CAAxB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,eAAP,EAAwBgB,IAAI,CAACC,EAA7B,CAAb,CApB8B,CAqB9B;AACA;;;AACAjB,IAAAA,aAAa,gCAAO,iBAAP,EAA0B,CAACe,QAA3B,CAAb,CAvB8B,CAwB9B;;;AACAf,IAAAA,aAAa,gCAAO,iBAAP,EAA0Be,QAA1B,CAAb,CAzB8B,CA0B9B;AACA;AACA;;;AACAf,IAAAA,aAAa,gCAAO,eAAP,EAAwB,KAAxB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,eAAP,EAAwB,IAAxB,CAAb;AACA;AACJ;AACA;AACA;;;AACIA,IAAAA,aAAa,gCAAO,YAAP,EAAqB,IAArB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,WAAP,EAAoB,CAApB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,cAAP,EAAuB,IAAvB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,aAAP,EAAsB,CAAtB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,WAAP,EAAoB,IAApB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,UAAP,EAAmB,CAAnB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,oBAAP,EAA6B,KAA7B,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,aAAP,EAAsB,CAAtB,CAAb;AACA;AACJ;AACA;AACA;AACA;;;AACIA,IAAAA,aAAa,gCAAO,YAAP,EAAqB,KAArB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,iBAAP,EAA0B,CAA1B,CAAb,CArD8B,CAsD9B;;AACA;;;AACAA,IAAAA,aAAa,gCAAO,YAAP,EAAqB,IAArB,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,MAAP,EAAe;AAAEkB,MAAAA,IAAI,EAAE,WAAR;AAAqBC,MAAAA,EAAE,EAAE,SAAzB;AAAoCC,MAAAA,KAAK,EAAE,YAA3C;AAAyDC,MAAAA,MAAM,EAAE;AAAjE,KAAf,CAAb;;AACArB,IAAAA,aAAa,gCAAO,cAAP,CAAb;AACA;;;AACAA,IAAAA,aAAa,gCAAO,SAAP,EAAkB;AAAEsB,MAAAA,GAAG,EAAEnB,KAAK,CAACoB,MAAb;AAAqBC,MAAAA,GAAG,EAAErB,KAAK,CAACsB;AAAhC,KAAlB,CAAb,CA7D8B,CA8D9B;;;AACAzB,IAAAA,aAAa,gCAAO,SAAP,CAAb;;AACAA,IAAAA,aAAa,gCAAO,WAAP,CAAb;;AACAA,IAAAA,aAAa,gCAAO,aAAP,CAAb;;AACAA,IAAAA,aAAa,gCAAO,OAAP,CAAb,CAlE8B,CAmE9B;;;AACAA,IAAAA,aAAa,gCAAO,WAAP,EAAoB,IAAII,SAAJ,EAApB,CAAb;;AACAJ,IAAAA,aAAa,gCAAO,gBAAP,EAAyB,IAAII,SAAJ,EAAzB,CAAb;;AACAJ,IAAAA,aAAa,gCAAO,aAAP,EAAsB;AAAE0B,MAAAA,IAAI,EAAE;AAAR,KAAtB,CAAb;;AACA1B,IAAAA,aAAa,gCAAO,YAAP,EAAqB;AAAE0B,MAAAA,IAAI,EAAE;AAAR,KAArB,CAAb;;AACA1B,IAAAA,aAAa,gCAAO,UAAP,EAAmB;AAAE0B,MAAAA,IAAI,EAAE;AAAR,KAAnB,CAAb;;AACA1B,IAAAA,aAAa,gCAAO,OAAP,EAAgB,CAAC,CAAjB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,KAAP,EAAc,IAAd,CAAb;;AACAA,IAAAA,aAAa,gCAAO,OAAP,EAAgB,CAAhB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,WAAP,EAAoB,IAAIE,OAAJ,EAApB,CAAb;;AACAF,IAAAA,aAAa,gCAAO,aAAP,EAAsB,KAAtB,CAAb;;AACAA,IAAAA,aAAa,gCAAO,aAAP,EAAsB,IAAIK,OAAJ,EAAtB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,WAAP,EAAoB,IAAIK,OAAJ,EAApB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,aAAP,EAAsB,IAAIK,OAAJ,EAAtB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,UAAP,EAAmB,IAAIK,OAAJ,EAAnB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,QAAP,EAAiB,IAAIK,OAAJ,EAAjB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,UAAP,EAAmB,IAAIK,OAAJ,EAAnB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,YAAP,EAAqB,IAAIK,OAAJ,EAArB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,UAAP,EAAmB,IAAIK,OAAJ,EAAnB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,YAAP,EAAqB,IAAIK,OAAJ,EAArB,CAAb;;AACAL,IAAAA,aAAa,gCAAO,QAAP,EAAiB,IAAIE,OAAJ,EAAjB,CAAb;;AACAF,IAAAA,aAAa,gCAAO,cAAP,EAAuB,IAAIE,OAAJ,EAAvB,CAAb;;AACAF,IAAAA,aAAa,gCAAO,gBAAP,EAAyB,IAAIM,UAAJ,EAAzB,CAAb;;AACAN,IAAAA,aAAa,gCAAO,GAAP,EAAY,IAAIM,UAAJ,EAAZ,CAAb;;AACAN,IAAAA,aAAa,gCAAO,GAAP,EAAY,IAAIE,OAAJ,EAAZ,CAAb;;AACAF,IAAAA,aAAa,gCAAO,KAAP,EAAc,IAAIE,OAAJ,EAAd,CAAb;;AACAF,IAAAA,aAAa,gCAAO,MAAP,CAAb;;AACAA,IAAAA,aAAa,gCAAO,aAAP,CAAb;;AACAA,IAAAA,aAAa,gCAAO,eAAP,EAAwB;AAAA,aAAM,MAAK2B,SAAL,CAAeC,GAArB;AAAA,KAAxB,CAAb;;AACA5B,IAAAA,aAAa,gCAAO,mBAAP,EAA4B;AAAA,aAAM,MAAK2B,SAAL,CAAeE,KAArB;AAAA,KAA5B,CAAb;;AACA7B,IAAAA,aAAa,gCAAO,WAAP,EAAoB,YAAM;AACrC,YAAK8B,OAAL,CAAaC,IAAb,CAAkB,MAAKC,MAAvB;;AACA,YAAKC,SAAL,CAAeF,IAAf,CAAoB,MAAKlB,MAAL,CAAYqB,QAAhC;;AACA,YAAKC,WAAL,CAAiBJ,IAAjB,CAAsB,MAAKlB,MAAL,CAAYuB,UAAlC;;AACA,YAAKC,KAAL,GAAa,MAAKxB,MAAL,CAAYyB,IAAzB;AACD,KALY,CAAb;;AAMAtC,IAAAA,aAAa,gCAAO,OAAP,EAAgB,YAAM;AACjC,YAAKgC,MAAL,CAAYD,IAAZ,CAAiB,MAAKD,OAAtB;;AACA,YAAKjB,MAAL,CAAYqB,QAAZ,CAAqBH,IAArB,CAA0B,MAAKE,SAA/B;;AACA,YAAKpB,MAAL,CAAYuB,UAAZ,CAAuBL,IAAvB,CAA4B,MAAKI,WAAjC;;AACA,YAAKtB,MAAL,CAAYyB,IAAZ,GAAmB,MAAKD,KAAxB;;AACA,YAAKxB,MAAL,CAAY0B,sBAAZ;;AACA,YAAKC,aAAL,CAAmB,MAAKC,WAAxB;;AACA,YAAKC,MAAL;;AACA,YAAKC,KAAL,GAAa,CAAC,CAAd;AACD,KATY,CAAb;;AAUA3C,IAAAA,aAAa,gCAAO,SAAP,EAAkB,YAAM;AACnC,YAAKc,UAAL,CAAgB8B,mBAAhB,CAAoC,aAApC,EAAmD,MAAKC,aAAxD,EAAuE,KAAvE;;AACA,YAAK/B,UAAL,CAAgB8B,mBAAhB,CAAoC,WAApC,EAAiD,MAAKE,WAAtD,EAAmE,KAAnE;;AACA,YAAKhC,UAAL,CAAgB8B,mBAAhB,CAAoC,OAApC,EAA6C,MAAKG,YAAlD,EAAgE,KAAhE;;AACA,YAAKjC,UAAL,CAAgB8B,mBAAhB,CAAoC,YAApC,EAAkD,MAAKI,YAAvD,EAAqE,KAArE;;AACA,YAAKlC,UAAL,CAAgB8B,mBAAhB,CAAoC,UAApC,EAAgD,MAAKK,UAArD,EAAiE,KAAjE;;AACA,YAAKnC,UAAL,CAAgB8B,mBAAhB,CAAoC,WAApC,EAAiD,MAAKM,WAAtD,EAAmE,KAAnE;;AACAC,MAAAA,QAAQ,CAACP,mBAAT,CAA6B,WAA7B,EAA0C,MAAKQ,WAA/C,EAA4D,KAA5D;AACAD,MAAAA,QAAQ,CAACP,mBAAT,CAA6B,SAA7B,EAAwC,MAAKS,SAA7C,EAAwD,KAAxD;;AACA,YAAKvC,UAAL,CAAgB8B,mBAAhB,CAAoC,SAApC,EAA+C,MAAKU,SAApD,EAA+D,KAA/D;AACD,KAVY,CAAb;;AAWAtD,IAAAA,aAAa,gCAAO,QAAP,EAAiB,YAAM;AAClC,UAAMkC,QAAQ,GAAG,MAAKrB,MAAL,CAAYqB,QAA7B;;AACA,YAAKqB,MAAL,CAAYxB,IAAZ,CAAiBG,QAAjB,EAA2BsB,GAA3B,CAA+B,MAAKxB,MAApC;;AACA,UAAI,MAAKyB,SAAT,EAAoB;AAClB,YAAI,MAAKC,cAAL,CAAoB7B,KAAxB,EAA+B;AAC7B,gBAAK8B,GAAL,CAASC,GAAT,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsBC,eAAtB,CAAsC,MAAKhD,MAAL,CAAYuB,UAAlD;;AACA,cAAM0B,MAAM,GAAG,MAAKC,aAAL,GAAqB,MAAKC,aAA1B,GAA0C,CAAzD;;AACA,gBAAKC,CAAL,CAAOC,gBAAP,CAAwB,MAAKP,GAA7B,EAAkC,MAAKD,cAAL,CAAoB7B,KAApB,GAA4BiC,MAA9D;;AACA,gBAAKjD,MAAL,CAAYuB,UAAZ,CAAuB+B,WAAvB,CAAmC,MAAKF,CAAxC;;AACA,gBAAKV,MAAL,CAAYM,eAAZ,CAA4B,MAAKI,CAAjC;AACD;;AACD,YAAI,MAAKP,cAAL,CAAoB9B,GAAxB,EAA6B;AAC3B,gBAAK+B,GAAL,CAASC,GAAT,CAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsBC,eAAtB,CAAsC,MAAKhD,MAAL,CAAYuB,UAAlD;;AACA,cAAM0B,OAAM,GAAG,MAAKC,aAAL,GAAqB,MAAKC,aAA1B,GAA0C,CAAzD;;AACA,gBAAKC,CAAL,CAAOC,gBAAP,CAAwB,MAAKP,GAA7B,EAAkC,MAAKD,cAAL,CAAoB9B,GAApB,GAA0BkC,OAA5D;;AACA,gBAAKjD,MAAL,CAAYuB,UAAZ,CAAuB+B,WAAvB,CAAmC,MAAKF,CAAxC;;AACA,gBAAKV,MAAL,CAAYM,eAAZ,CAA4B,MAAKI,CAAjC;AACD;;AACD,cAAKV,MAAL,CAAYa,cAAZ,CAA2B,MAAKC,KAAhC;;AACA,cAAKd,MAAL,CAAYe,WAAZ,CAAwB,MAAKC,WAA7B,EAA0C,MAAKC,WAA/C;AACD,OAjBD,MAiBO;AACL,cAAKjB,MAAL,CAAYM,eAAZ,CAA4B,MAAKY,IAAjC;;AACA,YAAI,MAAKC,UAAL,IAAmB,MAAK/B,KAAL,KAAe,CAAC,CAAvC,EAA0C;AACxC,gBAAKgC,UAAL,CAAgB,MAAKC,oBAAL,EAAhB;AACD;;AACD,cAAKjD,SAAL,CAAekD,cAAf,CAA8B,MAAKtB,MAAnC;;AACA,YAAI,MAAKQ,aAAT,EAAwB;AACtB,gBAAKpC,SAAL,CAAeE,KAAf,IAAwB,MAAK6B,cAAL,CAAoB7B,KAApB,GAA4B,MAAKmC,aAAzD;AACA,gBAAKrC,SAAL,CAAeC,GAAf,IAAsB,MAAK8B,cAAL,CAAoB9B,GAApB,GAA0B,MAAKoC,aAArD;AACD,SAHD,MAGO;AACL,gBAAKrC,SAAL,CAAeE,KAAf,IAAwB,MAAK6B,cAAL,CAAoB7B,KAA5C;AACA,gBAAKF,SAAL,CAAeC,GAAf,IAAsB,MAAK8B,cAAL,CAAoB9B,GAA1C;AACD;;AACD,cAAKD,SAAL,CAAeE,KAAf,GAAuBb,IAAI,CAAC8D,GAAL,CAAS,MAAKC,eAAd,EAA+B/D,IAAI,CAACgE,GAAL,CAAS,MAAKC,eAAd,EAA+B,MAAKtD,SAAL,CAAeE,KAA9C,CAA/B,CAAvB;AACA,cAAKF,SAAL,CAAeC,GAAf,GAAqBZ,IAAI,CAAC8D,GAAL,CAAS,MAAKI,aAAd,EAA6BlE,IAAI,CAACgE,GAAL,CAAS,MAAKG,aAAd,EAA6B,MAAKxD,SAAL,CAAeC,GAA5C,CAA7B,CAArB;;AACA,cAAKD,SAAL,CAAeyD,QAAf;;AACA,cAAKzD,SAAL,CAAe0D,MAAf,IAAyB,MAAKhB,KAA9B;AACA,cAAK1C,SAAL,CAAe0D,MAAf,GAAwBrE,IAAI,CAAC8D,GAAL,CAAS,MAAKP,WAAd,EAA2BvD,IAAI,CAACgE,GAAL,CAAS,MAAKR,WAAd,EAA2B,MAAK7C,SAAL,CAAe0D,MAA1C,CAA3B,CAAxB;;AACA,cAAK9B,MAAL,CAAY+B,gBAAZ,CAA6B,MAAK3D,SAAlC;;AACA,cAAK4B,MAAL,CAAYM,eAAZ,CAA4B,MAAK0B,WAAjC;AACD;;AACD,UAAI,MAAKxB,aAAL,KAAuB,IAA3B,EAAiC;AAC/B,cAAK/B,MAAL,CAAYwD,eAAZ,CAA4B,MAAKC,SAAjC,EAA4C,MAAKzB,aAAjD;AACD,OAFD,MAEO;AACL,cAAKhC,MAAL,CAAY0D,GAAZ,CAAgB,MAAKD,SAArB;AACD;;AACDvD,MAAAA,QAAQ,CAACH,IAAT,CAAc,MAAKC,MAAnB,EAA2B0D,GAA3B,CAA+B,MAAKnC,MAApC;;AACA,UAAI,MAAKE,SAAL,KAAmB,KAAvB,EAA8B;AAC5B,cAAK5C,MAAL,CAAY8E,MAAZ,CAAmB,MAAK3D,MAAxB;AACD;;AACD,UAAI,MAAK+B,aAAL,KAAuB,IAA3B,EAAiC;AAC/B,cAAKL,cAAL,CAAoB7B,KAApB,IAA6B,IAAI,MAAKmC,aAAtC;AACA,cAAKN,cAAL,CAAoB9B,GAApB,IAA2B,IAAI,MAAKoC,aAApC;;AACA,cAAKyB,SAAL,CAAerB,cAAf,CAA8B,IAAI,MAAKJ,aAAvC;AACD,OAJD,MAIO;AACL,cAAKN,cAAL,CAAoBE,GAApB,CAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B;;AACA,cAAK6B,SAAL,CAAe7B,GAAf,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AACD;;AACD,YAAKS,KAAL,GAAa,CAAb;;AACA,UAAI,MAAKuB,WAAL,IAAoB,MAAKC,YAAL,CAAkBC,iBAAlB,CAAoC,MAAKjF,MAAL,CAAYqB,QAAhD,IAA4D,MAAK6D,GAArF,IAA4F,KAAK,IAAI,MAAKC,cAAL,CAAoBC,GAApB,CAAwB,MAAKpF,MAAL,CAAYuB,UAApC,CAAT,IAA4D,MAAK2D,GAAjK,EAAsK;AACpK,cAAKvD,aAAL,CAAmB,MAAKC,WAAxB;;AACA,cAAKoD,YAAL,CAAkB9D,IAAlB,CAAuB,MAAKlB,MAAL,CAAYqB,QAAnC;;AACA,cAAK8D,cAAL,CAAoBjE,IAApB,CAAyB,MAAKlB,MAAL,CAAYuB,UAArC;;AACA,cAAKwD,WAAL,GAAmB,KAAnB;AACA,eAAO,IAAP;AACD;;AACD,aAAO,KAAP;AACD,KAnEY,CAAb;;AAoEA5F,IAAAA,aAAa,gCAAO,sBAAP,EAA+B;AAAA,aAAM,IAAIgB,IAAI,CAACC,EAAT,GAAc,EAAd,GAAmB,EAAnB,GAAwB,MAAKiF,eAAnC;AAAA,KAA/B,CAAb;;AACAlG,IAAAA,aAAa,gCAAO,cAAP,EAAuB;AAAA,aAAMgB,IAAI,CAACmF,GAAL,CAAS,IAAT,EAAe,MAAKC,SAApB,CAAN;AAAA,KAAvB,CAAb;;AACApG,IAAAA,aAAa,gCAAO,YAAP,EAAqB,UAACqG,KAAD,EAAW;AAC3C,YAAK3C,cAAL,CAAoB7B,KAApB,IAA6BwE,KAA7B;AACD,KAFY,CAAb;;AAGArG,IAAAA,aAAa,gCAAO,UAAP,EAAmB,UAACqG,KAAD,EAAW;AACzC,YAAK3C,cAAL,CAAoB9B,GAApB,IAA2ByE,KAA3B;AACD,KAFY,CAAb;;AAGArG,IAAAA,aAAa,gCAAO,SAAP,EAAkB,UAACsG,QAAD,EAAWC,YAAX,EAA4B;AACzD,YAAKC,CAAL,CAAOC,mBAAP,CAA2BF,YAA3B,EAAyC,CAAzC;;AACA,YAAKC,CAAL,CAAOpC,cAAP,CAAsB,CAACkC,QAAvB;;AACA,YAAKb,SAAL,CAAeC,GAAf,CAAmB,MAAKc,CAAxB;AACD,KAJY,CAAb;;AAKAxG,IAAAA,aAAa,gCAAO,OAAP,EAAgB,UAACsG,QAAD,EAAWC,YAAX,EAA4B;AACvD,UAAI,MAAKG,kBAAL,KAA4B,IAAhC,EAAsC;AACpC,cAAKF,CAAL,CAAOC,mBAAP,CAA2BF,YAA3B,EAAyC,CAAzC;AACD,OAFD,MAEO;AACL,cAAKC,CAAL,CAAOC,mBAAP,CAA2BF,YAA3B,EAAyC,CAAzC;;AACA,cAAKC,CAAL,CAAOG,YAAP,CAAoB,MAAK9F,MAAL,CAAY+F,EAAhC,EAAoC,MAAKJ,CAAzC;AACD;;AACD,YAAKA,CAAL,CAAOpC,cAAP,CAAsBkC,QAAtB;;AACA,YAAKb,SAAL,CAAeC,GAAf,CAAmB,MAAKc,CAAxB;AACD,KATY,CAAb,CA7M8B,CAuN9B;;;AACAxG,IAAAA,aAAa,gCAAO,KAAP,EAAc,UAAC6G,MAAD,EAASC,MAAT,EAAoB;AAC7C,UAAMC,OAAO,GAAG,MAAKjG,UAArB;;AACA,UAAI,MAAKD,MAAL,YAAuBL,iBAA3B,EAA8C;AAC5C,YAAM0B,QAAQ,GAAG,MAAKrB,MAAL,CAAYqB,QAA7B;;AACA,cAAKqB,MAAL,CAAYxB,IAAZ,CAAiBG,QAAjB,EAA2BsB,GAA3B,CAA+B,MAAKxB,MAApC;;AACA,YAAIgF,cAAc,GAAG,MAAKzD,MAAL,CAAY0D,MAAZ,EAArB;;AACAD,QAAAA,cAAc,IAAIhG,IAAI,CAACkG,GAAL,CAAS,MAAKrG,MAAL,CAAYsG,GAAZ,GAAkB,CAAlB,GAAsBnG,IAAI,CAACC,EAA3B,GAAgC,GAAzC,CAAlB;;AACA,cAAKmG,OAAL,CAAa,IAAIP,MAAJ,GAAaG,cAAb,GAA8BD,OAAO,CAACM,YAAnD,EAAiE,MAAKxG,MAAL,CAAYyG,MAA7E;;AACA,cAAKC,KAAL,CAAW,IAAIT,MAAJ,GAAaE,cAAb,GAA8BD,OAAO,CAACM,YAAjD,EAA+D,MAAKxG,MAAL,CAAYyG,MAA3E;AACD,OAPD,MAOO,IAAI,MAAKzG,MAAL,CAAY2G,oBAAhB,EAAsC;AAC3C,cAAKJ,OAAL,CACEP,MAAM,IAAI,MAAKhG,MAAL,CAAY4G,KAAZ,GAAoB,MAAK5G,MAAL,CAAY6G,IAApC,CAAN,GAAkD,MAAK7G,MAAL,CAAYyB,IAA9D,GAAqEyE,OAAO,CAACY,WAD/E,EAEE,MAAK9G,MAAL,CAAYyG,MAFd;;AAIA,cAAKC,KAAL,CACET,MAAM,IAAI,MAAKjG,MAAL,CAAY+G,GAAZ,GAAkB,MAAK/G,MAAL,CAAYgH,MAAlC,CAAN,GAAkD,MAAKhH,MAAL,CAAYyB,IAA9D,GAAqEyE,OAAO,CAACM,YAD/E,EAEE,MAAKxG,MAAL,CAAYyG,MAFd;AAID,OATM,MASA;AACLQ,QAAAA,OAAO,CAACC,IAAR,CAAa,+EAAb;AACA,cAAKC,SAAL,GAAiB,KAAjB;AACD;AACF,KAtBY,CAAb;;AAuBAhI,IAAAA,aAAa,gCAAO,SAAP,EAAkB,UAACiI,UAAD,EAAgB;AAC7C,UAAI,MAAKpH,MAAL,YAAuBL,iBAA3B,EAA8C;AAC5C,cAAK6D,KAAL,IAAc4D,UAAd;AACD,OAFD,MAEO,IAAI,MAAKpH,MAAL,YAAuBJ,kBAA3B,EAA+C;AACpD,cAAKI,MAAL,CAAYyB,IAAZ,GAAmBtB,IAAI,CAAC8D,GAAL,CAAS,MAAKoD,OAAd,EAAuBlH,IAAI,CAACgE,GAAL,CAAS,MAAKmD,OAAd,EAAuB,MAAKtH,MAAL,CAAYyB,IAAZ,GAAmB2F,UAA1C,CAAvB,CAAnB;;AACA,cAAKpH,MAAL,CAAY0B,sBAAZ;;AACA,cAAKqD,WAAL,GAAmB,IAAnB;AACD,OAJM,MAIA;AACLkC,QAAAA,OAAO,CAACC,IAAR,CAAa,sFAAb;AACA,cAAKK,UAAL,GAAkB,KAAlB;AACD;AACF,KAXY,CAAb;;AAYApI,IAAAA,aAAa,gCAAO,UAAP,EAAmB,UAACiI,UAAD,EAAgB;AAC9C,UAAI,MAAKpH,MAAL,YAAuBL,iBAA3B,EAA8C;AAC5C,cAAK6D,KAAL,IAAc4D,UAAd;AACD,OAFD,MAEO,IAAI,MAAKpH,MAAL,YAAuBJ,kBAA3B,EAA+C;AACpD,cAAKI,MAAL,CAAYyB,IAAZ,GAAmBtB,IAAI,CAAC8D,GAAL,CAAS,MAAKoD,OAAd,EAAuBlH,IAAI,CAACgE,GAAL,CAAS,MAAKmD,OAAd,EAAuB,MAAKtH,MAAL,CAAYyB,IAAZ,GAAmB2F,UAA1C,CAAvB,CAAnB;;AACA,cAAKpH,MAAL,CAAY0B,sBAAZ;;AACA,cAAKqD,WAAL,GAAmB,IAAnB;AACD,OAJM,MAIA;AACLkC,QAAAA,OAAO,CAACC,IAAR,CAAa,sFAAb;AACA,cAAKK,UAAL,GAAkB,KAAlB;AACD;AACF,KAXY,CAAb,CA3P8B,CAuQ9B;;;AACApI,IAAAA,aAAa,gCAAO,uBAAP,EAAgC,UAACqI,KAAD,EAAW;AACtD,YAAKC,WAAL,CAAiB1E,GAAjB,CAAqByE,KAAK,CAACE,OAA3B,EAAoCF,KAAK,CAACG,OAA1C;AACD,KAFY,CAAb,CAxQ8B,CA2Q9B;;;AACAxI,IAAAA,aAAa,gCAAO,sBAAP,EAA+B,UAACqI,KAAD,EAAW;AACrD,YAAKI,UAAL,CAAgB7E,GAAhB,CAAoByE,KAAK,CAACE,OAA1B,EAAmCF,KAAK,CAACG,OAAzC;AACD,KAFY,CAAb;;AAGAxI,IAAAA,aAAa,gCAAO,oBAAP,EAA6B,UAACqI,KAAD,EAAW;AACnD,YAAKK,QAAL,CAAc9E,GAAd,CAAkByE,KAAK,CAACE,OAAxB,EAAiCF,KAAK,CAACG,OAAvC;AACD,KAFY,CAAb;;AAGAxI,IAAAA,aAAa,gCAAO,uBAAP,EAAgC,UAACqI,KAAD,EAAW;AACtD,YAAKM,SAAL,CAAe/E,GAAf,CAAmByE,KAAK,CAACE,OAAzB,EAAkCF,KAAK,CAACG,OAAxC;;AACA,YAAKI,WAAL,CAAiBC,UAAjB,CAA4B,MAAKF,SAAjC,EAA4C,MAAKL,WAAjD,EAA8DlE,cAA9D,CAA6E,MAAK0E,WAAlF;;AACA,UAAM/B,OAAO,GAAG,MAAKjG,UAArB;;AACA,YAAK6D,UAAL,CAAgB,IAAI3D,IAAI,CAACC,EAAT,GAAc,MAAK2H,WAAL,CAAiBG,CAA/B,GAAmChC,OAAO,CAACM,YAA3D;;AACA,YAAK2B,QAAL,CAAc,IAAIhI,IAAI,CAACC,EAAT,GAAc,MAAK2H,WAAL,CAAiBK,CAA/B,GAAmClC,OAAO,CAACM,YAAzD;;AACA,YAAKiB,WAAL,CAAiBvG,IAAjB,CAAsB,MAAK4G,SAA3B;;AACA,YAAKjG,MAAL;AACD,KARY,CAAb;;AASA1C,IAAAA,aAAa,gCAAO,sBAAP,EAA+B,UAACqI,KAAD,EAAW;AACrD,YAAKa,QAAL,CAActF,GAAd,CAAkByE,KAAK,CAACE,OAAxB,EAAiCF,KAAK,CAACG,OAAvC;;AACA,YAAKW,UAAL,CAAgBN,UAAhB,CAA2B,MAAKK,QAAhC,EAA0C,MAAKT,UAA/C;;AACA,UAAI,MAAKU,UAAL,CAAgBF,CAAhB,GAAoB,CAAxB,EAA2B;AACzB,cAAKG,OAAL,CAAa,MAAKC,YAAL,EAAb;AACD,OAFD,MAEO,IAAI,MAAKF,UAAL,CAAgBF,CAAhB,GAAoB,CAAxB,EAA2B;AAChC,cAAKK,QAAL,CAAc,MAAKD,YAAL,EAAd;AACD;;AACD,YAAKZ,UAAL,CAAgB1G,IAAhB,CAAqB,MAAKmH,QAA1B;;AACA,YAAKxG,MAAL;AACD,KAVY,CAAb;;AAWA1C,IAAAA,aAAa,gCAAO,oBAAP,EAA6B,UAACqI,KAAD,EAAW;AACnD,YAAKkB,MAAL,CAAY3F,GAAZ,CAAgByE,KAAK,CAACE,OAAtB,EAA+BF,KAAK,CAACG,OAArC;;AACA,YAAKgB,QAAL,CAAcX,UAAd,CAAyB,MAAKU,MAA9B,EAAsC,MAAKb,QAA3C,EAAqDtE,cAArD,CAAoE,MAAKqF,QAAzE;;AACA,YAAKC,GAAL,CAAS,MAAKF,QAAL,CAAcT,CAAvB,EAA0B,MAAKS,QAAL,CAAcP,CAAxC;;AACA,YAAKP,QAAL,CAAc3G,IAAd,CAAmB,MAAKwH,MAAxB;;AACA,YAAK7G,MAAL;AACD,KANY,CAAb;;AAOA1C,IAAAA,aAAa,gCAAO,kBAAP,EAA2B,UAACqI,KAAD,EAAW;AACjD,UAAIA,KAAK,CAACvB,MAAN,GAAe,CAAnB,EAAsB;AACpB,cAAKwC,QAAL,CAAc,MAAKD,YAAL,EAAd;AACD,OAFD,MAEO,IAAIhB,KAAK,CAACvB,MAAN,GAAe,CAAnB,EAAsB;AAC3B,cAAKsC,OAAL,CAAa,MAAKC,YAAL,EAAb;AACD;;AACD,YAAK3G,MAAL;AACD,KAPY,CAAb;;AAQA1C,IAAAA,aAAa,gCAAO,eAAP,EAAwB,UAACqI,KAAD,EAAW;AAC9C,UAAIsB,WAAW,GAAG,KAAlB;;AACA,cAAQtB,KAAK,CAACuB,IAAd;AACE,aAAK,MAAKC,IAAL,CAAU1I,EAAf;AACE,gBAAKuI,GAAL,CAAS,CAAT,EAAY,MAAKI,WAAjB;;AACAH,UAAAA,WAAW,GAAG,IAAd;AACA;;AACF,aAAK,MAAKE,IAAL,CAAUxI,MAAf;AACE,gBAAKqI,GAAL,CAAS,CAAT,EAAY,CAAC,MAAKI,WAAlB;;AACAH,UAAAA,WAAW,GAAG,IAAd;AACA;;AACF,aAAK,MAAKE,IAAL,CAAU3I,IAAf;AACE,gBAAKwI,GAAL,CAAS,MAAKI,WAAd,EAA2B,CAA3B;;AACAH,UAAAA,WAAW,GAAG,IAAd;AACA;;AACF,aAAK,MAAKE,IAAL,CAAUzI,KAAf;AACE,gBAAKsI,GAAL,CAAS,CAAC,MAAKI,WAAf,EAA4B,CAA5B;;AACAH,UAAAA,WAAW,GAAG,IAAd;AACA;AAhBJ;;AAkBA,UAAIA,WAAJ,EAAiB;AACftB,QAAAA,KAAK,CAAC0B,cAAN;;AACA,cAAKrH,MAAL;AACD;AACF,KAxBY,CAAb;;AAyBA1C,IAAAA,aAAa,gCAAO,wBAAP,EAAiC,UAACqI,KAAD,EAAW;AACvD,UAAIA,KAAK,CAAC2B,OAAN,CAAc/C,MAAd,IAAwB,CAA5B,EAA+B;AAC7B,cAAKqB,WAAL,CAAiB1E,GAAjB,CAAqByE,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAtC,EAA6C5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAA9D;AACD,OAFD,MAEO;AACL,YAAMnB,CAAC,GAAG,OAAOV,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjB,GAAyB5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjD,CAAV;AACA,YAAMhB,CAAC,GAAG,OAAOZ,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjB,GAAyB7B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjD,CAAV;;AACA,cAAK5B,WAAL,CAAiB1E,GAAjB,CAAqBmF,CAArB,EAAwBE,CAAxB;AACD;AACF,KARY,CAAb;;AASAjJ,IAAAA,aAAa,gCAAO,qBAAP,EAA8B,UAACqI,KAAD,EAAW;AACpD,UAAIA,KAAK,CAAC2B,OAAN,CAAc/C,MAAd,IAAwB,CAA5B,EAA+B;AAC7B,cAAKyB,QAAL,CAAc9E,GAAd,CAAkByE,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAnC,EAA0C5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAA3D;AACD,OAFD,MAEO;AACL,YAAMnB,CAAC,GAAG,OAAOV,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjB,GAAyB5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjD,CAAV;AACA,YAAMhB,CAAC,GAAG,OAAOZ,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjB,GAAyB7B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjD,CAAV;;AACA,cAAKxB,QAAL,CAAc9E,GAAd,CAAkBmF,CAAlB,EAAqBE,CAArB;AACD;AACF,KARY,CAAb;;AASAjJ,IAAAA,aAAa,gCAAO,uBAAP,EAAgC,UAACqI,KAAD,EAAW;AACtD,UAAM8B,EAAE,GAAG9B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjB,GAAyB5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAArD;AACA,UAAMG,EAAE,GAAG/B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjB,GAAyB7B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAArD;AACA,UAAM5D,QAAQ,GAAGtF,IAAI,CAACqJ,IAAL,CAAUF,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAAzB,CAAjB;;AACA,YAAK3B,UAAL,CAAgB7E,GAAhB,CAAoB,CAApB,EAAuB0C,QAAvB;AACD,KALY,CAAb;;AAMAtG,IAAAA,aAAa,gCAAO,0BAAP,EAAmC,UAACqI,KAAD,EAAW;AACzD,UAAI,MAAKD,UAAT,EACE,MAAKkC,qBAAL,CAA2BjC,KAA3B;AACF,UAAI,MAAKL,SAAT,EACE,MAAKuC,mBAAL,CAAyBlC,KAAzB;AACH,KALY,CAAb;;AAMArI,IAAAA,aAAa,gCAAO,6BAAP,EAAsC,UAACqI,KAAD,EAAW;AAC5D,UAAI,MAAKD,UAAT,EACE,MAAKkC,qBAAL,CAA2BjC,KAA3B;AACF,UAAI,MAAKmC,YAAT,EACE,MAAKC,sBAAL,CAA4BpC,KAA5B;AACH,KALY,CAAb;;AAMArI,IAAAA,aAAa,gCAAO,uBAAP,EAAgC,UAACqI,KAAD,EAAW;AACtD,UAAIA,KAAK,CAAC2B,OAAN,CAAc/C,MAAd,IAAwB,CAA5B,EAA+B;AAC7B,cAAK0B,SAAL,CAAe/E,GAAf,CAAmByE,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAApC,EAA2C5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAA5D;AACD,OAFD,MAEO;AACL,YAAMnB,CAAC,GAAG,OAAOV,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjB,GAAyB5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjD,CAAV;AACA,YAAMhB,CAAC,GAAG,OAAOZ,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjB,GAAyB7B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjD,CAAV;;AACA,cAAKvB,SAAL,CAAe/E,GAAf,CAAmBmF,CAAnB,EAAsBE,CAAtB;AACD;;AACD,YAAKL,WAAL,CAAiBC,UAAjB,CAA4B,MAAKF,SAAjC,EAA4C,MAAKL,WAAjD,EAA8DlE,cAA9D,CAA6E,MAAK0E,WAAlF;;AACA,UAAM/B,OAAO,GAAG,MAAKjG,UAArB;;AACA,YAAK6D,UAAL,CAAgB,IAAI3D,IAAI,CAACC,EAAT,GAAc,MAAK2H,WAAL,CAAiBG,CAA/B,GAAmChC,OAAO,CAACM,YAA3D;;AACA,YAAK2B,QAAL,CAAc,IAAIhI,IAAI,CAACC,EAAT,GAAc,MAAK2H,WAAL,CAAiBK,CAA/B,GAAmClC,OAAO,CAACM,YAAzD;;AACA,YAAKiB,WAAL,CAAiBvG,IAAjB,CAAsB,MAAK4G,SAA3B;AACD,KAbY,CAAb;;AAcA3I,IAAAA,aAAa,gCAAO,oBAAP,EAA6B,UAACqI,KAAD,EAAW;AACnD,UAAIA,KAAK,CAAC2B,OAAN,CAAc/C,MAAd,IAAwB,CAA5B,EAA+B;AAC7B,cAAKsC,MAAL,CAAY3F,GAAZ,CAAgByE,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjC,EAAwC5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAzD;AACD,OAFD,MAEO;AACL,YAAMnB,CAAC,GAAG,OAAOV,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjB,GAAyB5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjD,CAAV;AACA,YAAMhB,CAAC,GAAG,OAAOZ,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjB,GAAyB7B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjD,CAAV;;AACA,cAAKX,MAAL,CAAY3F,GAAZ,CAAgBmF,CAAhB,EAAmBE,CAAnB;AACD;;AACD,YAAKO,QAAL,CAAcX,UAAd,CAAyB,MAAKU,MAA9B,EAAsC,MAAKb,QAA3C,EAAqDtE,cAArD,CAAoE,MAAKqF,QAAzE;;AACA,YAAKC,GAAL,CAAS,MAAKF,QAAL,CAAcT,CAAvB,EAA0B,MAAKS,QAAL,CAAcP,CAAxC;;AACA,YAAKP,QAAL,CAAc3G,IAAd,CAAmB,MAAKwH,MAAxB;AACD,KAXY,CAAb;;AAYAvJ,IAAAA,aAAa,gCAAO,sBAAP,EAA+B,UAACqI,KAAD,EAAW;AACrD,UAAM8B,EAAE,GAAG9B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAAjB,GAAyB5B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBC,KAArD;AACA,UAAMG,EAAE,GAAG/B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAAjB,GAAyB7B,KAAK,CAAC2B,OAAN,CAAc,CAAd,EAAiBE,KAArD;AACA,UAAM5D,QAAQ,GAAGtF,IAAI,CAACqJ,IAAL,CAAUF,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAAzB,CAAjB;;AACA,YAAKlB,QAAL,CAActF,GAAd,CAAkB,CAAlB,EAAqB0C,QAArB;;AACA,YAAK6C,UAAL,CAAgBvF,GAAhB,CAAoB,CAApB,EAAuB5C,IAAI,CAACmF,GAAL,CAAS,MAAK+C,QAAL,CAAcD,CAAd,GAAkB,MAAKR,UAAL,CAAgBQ,CAA3C,EAA8C,MAAK7C,SAAnD,CAAvB;;AACA,YAAKgD,OAAL,CAAa,MAAKD,UAAL,CAAgBF,CAA7B;;AACA,YAAKR,UAAL,CAAgB1G,IAAhB,CAAqB,MAAKmH,QAA1B;AACD,KARY,CAAb;;AASAlJ,IAAAA,aAAa,gCAAO,yBAAP,EAAkC,UAACqI,KAAD,EAAW;AACxD,UAAI,MAAKD,UAAT,EACE,MAAKsC,oBAAL,CAA0BrC,KAA1B;AACF,UAAI,MAAKL,SAAT,EACE,MAAK2C,kBAAL,CAAwBtC,KAAxB;AACH,KALY,CAAb;;AAMArI,IAAAA,aAAa,gCAAO,4BAAP,EAAqC,UAACqI,KAAD,EAAW;AAC3D,UAAI,MAAKD,UAAT,EACE,MAAKsC,oBAAL,CAA0BrC,KAA1B;AACF,UAAI,MAAKmC,YAAT,EACE,MAAKI,qBAAL,CAA2BvC,KAA3B;AACH,KALY,CAAb,CA3Z8B,CAia9B;AACA;AACA;;;AACArI,IAAAA,aAAa,gCAAO,aAAP,EAAsB,UAACqI,KAAD,EAAW;AAC5C,UAAI,MAAKwC,OAAL,KAAiB,KAArB,EACE;AACFxC,MAAAA,KAAK,CAAC0B,cAAN;AACA,YAAKjJ,UAAL,CAAgBgK,KAAhB,GAAwB,MAAKhK,UAAL,CAAgBgK,KAAhB,EAAxB,GAAkDC,MAAM,CAACD,KAAP,EAAlD;AACA,UAAIE,WAAJ;;AACA,cAAQ3C,KAAK,CAAC4C,MAAd;AACE,aAAK,CAAL;AACED,UAAAA,WAAW,GAAG,MAAKE,YAAL,CAAkBhK,IAAhC;AACA;;AACF,aAAK,CAAL;AACE8J,UAAAA,WAAW,GAAG,MAAKE,YAAL,CAAkBC,MAAhC;AACA;;AACF,aAAK,CAAL;AACEH,UAAAA,WAAW,GAAG,MAAKE,YAAL,CAAkB9J,KAAhC;AACA;;AACF;AACE4J,UAAAA,WAAW,GAAG,CAAC,CAAf;AAXJ;;AAaA,cAAQA,WAAR;AACE,aAAKzK,KAAK,CAAC6K,KAAX;AACE,cAAI,MAAKhD,UAAL,KAAoB,KAAxB,EACE;;AACF,gBAAKiD,oBAAL,CAA0BhD,KAA1B;;AACA,gBAAK1F,KAAL,GAAa,CAAb;AACA;;AACF,aAAKpC,KAAK,CAACgB,MAAX;AACE,cAAI8G,KAAK,CAACiD,OAAN,IAAiBjD,KAAK,CAACkD,OAAvB,IAAkClD,KAAK,CAACmD,QAA5C,EAAsD;AACpD,gBAAI,MAAKxD,SAAL,KAAmB,KAAvB,EACE;;AACF,kBAAKyD,kBAAL,CAAwBpD,KAAxB;;AACA,kBAAK1F,KAAL,GAAa,CAAb;AACD,WALD,MAKO;AACL,gBAAI,MAAK6H,YAAL,KAAsB,KAA1B,EACE;;AACF,kBAAKkB,qBAAL,CAA2BrD,KAA3B;;AACA,kBAAK1F,KAAL,GAAa,CAAb;AACD;;AACD;;AACF,aAAKpC,KAAK,CAACoL,GAAX;AACE,cAAItD,KAAK,CAACiD,OAAN,IAAiBjD,KAAK,CAACkD,OAAvB,IAAkClD,KAAK,CAACmD,QAA5C,EAAsD;AACpD,gBAAI,MAAKhB,YAAL,KAAsB,KAA1B,EACE;;AACF,kBAAKkB,qBAAL,CAA2BrD,KAA3B;;AACA,kBAAK1F,KAAL,GAAa,CAAb;AACD,WALD,MAKO;AACL,gBAAI,MAAKqF,SAAL,KAAmB,KAAvB,EACE;;AACF,kBAAKyD,kBAAL,CAAwBpD,KAAxB;;AACA,kBAAK1F,KAAL,GAAa,CAAb;AACD;;AACD;;AACF;AACE,gBAAKA,KAAL,GAAa,CAAC,CAAd;AAlCJ;;AAoCA,UAAI,MAAKA,KAAL,KAAe,CAAC,CAApB,EAAuB;AACrBQ,QAAAA,QAAQ,CAACyI,gBAAT,CAA0B,WAA1B,EAAuC,MAAKxI,WAA5C,EAAyD,KAAzD;AACAD,QAAAA,QAAQ,CAACyI,gBAAT,CAA0B,SAA1B,EAAqC,MAAKvI,SAA1C,EAAqD,KAArD;;AACA,cAAKb,aAAL,CAAmB,MAAKqJ,UAAxB;AACD;AACF,KA5DY,CAAb;;AA6DA7L,IAAAA,aAAa,gCAAO,aAAP,EAAsB,UAACqI,KAAD,EAAW;AAC5C,UAAI,MAAKwC,OAAL,KAAiB,KAArB,EACE;AACFxC,MAAAA,KAAK,CAAC0B,cAAN;;AACA,cAAQ,MAAKpH,KAAb;AACE,aAAK,CAAL;AACE,cAAI,MAAK6H,YAAL,KAAsB,KAA1B,EACE;;AACF,gBAAKsB,qBAAL,CAA2BzD,KAA3B;;AACA;;AACF,aAAK,CAAL;AACE,cAAI,MAAKD,UAAL,KAAoB,KAAxB,EACE;;AACF,gBAAK2D,oBAAL,CAA0B1D,KAA1B;;AACA;;AACF,aAAK,CAAL;AACE,cAAI,MAAKL,SAAL,KAAmB,KAAvB,EACE;;AACF,gBAAKgE,kBAAL,CAAwB3D,KAAxB;;AACA;AAfJ;AAiBD,KArBY,CAAb;;AAsBArI,IAAAA,aAAa,gCAAO,WAAP,EAAoB,YAAM;AACrC,UAAI,MAAK6K,OAAL,KAAiB,KAArB,EACE;AACF1H,MAAAA,QAAQ,CAACP,mBAAT,CAA6B,WAA7B,EAA0C,MAAKQ,WAA/C,EAA4D,KAA5D;AACAD,MAAAA,QAAQ,CAACP,mBAAT,CAA6B,SAA7B,EAAwC,MAAKS,SAA7C,EAAwD,KAAxD;;AACA,YAAKb,aAAL,CAAmB,MAAKyJ,QAAxB;;AACA,YAAKtJ,KAAL,GAAa,CAAC,CAAd;AACD,KAPY,CAAb;;AAQA3C,IAAAA,aAAa,gCAAO,cAAP,EAAuB,UAACqI,KAAD,EAAW;AAC7C,UAAI,MAAKwC,OAAL,KAAiB,KAAjB,IAA0B,MAAKzC,UAAL,KAAoB,KAA9C,IAAuD,MAAKzF,KAAL,KAAe,CAAC,CAAhB,IAAqB,MAAKA,KAAL,KAAe,CAA/F,EAAkG;AAChG;AACD;;AACD0F,MAAAA,KAAK,CAAC0B,cAAN;;AACA,YAAKvH,aAAL,CAAmB,MAAKqJ,UAAxB;;AACA,YAAKK,gBAAL,CAAsB7D,KAAtB;;AACA,YAAK7F,aAAL,CAAmB,MAAKyJ,QAAxB;AACD,KARY,CAAb;;AASAjM,IAAAA,aAAa,gCAAO,WAAP,EAAoB,UAACqI,KAAD,EAAW;AAC1C,UAAI,MAAKwC,OAAL,KAAiB,KAAjB,IAA0B,MAAKsB,UAAL,KAAoB,KAA9C,IAAuD,MAAKnE,SAAL,KAAmB,KAA9E,EACE;;AACF,YAAKoE,aAAL,CAAmB/D,KAAnB;AACD,KAJY,CAAb;;AAKArI,IAAAA,aAAa,gCAAO,cAAP,EAAuB,UAACqI,KAAD,EAAW;AAC7C,UAAI,MAAKwC,OAAL,KAAiB,KAArB,EACE;AACFxC,MAAAA,KAAK,CAAC0B,cAAN;;AACA,cAAQ1B,KAAK,CAAC2B,OAAN,CAAc/C,MAAtB;AACE,aAAK,CAAL;AACE,kBAAQ,MAAK+C,OAAL,CAAa1I,GAArB;AACE,iBAAKnB,KAAK,CAACoB,MAAX;AACE,kBAAI,MAAKiJ,YAAL,KAAsB,KAA1B,EACE;;AACF,oBAAKC,sBAAL,CAA4BpC,KAA5B;;AACA,oBAAK1F,KAAL,GAAa,CAAb;AACA;;AACF,iBAAKxC,KAAK,CAACwL,GAAX;AACE,kBAAI,MAAK3D,SAAL,KAAmB,KAAvB,EACE;;AACF,oBAAKuC,mBAAL,CAAyBlC,KAAzB;;AACA,oBAAK1F,KAAL,GAAa,CAAb;AACA;;AACF;AACE,oBAAKA,KAAL,GAAa,CAAC,CAAd;AAdJ;;AAgBA;;AACF,aAAK,CAAL;AACE,kBAAQ,MAAKqH,OAAL,CAAaxI,GAArB;AACE,iBAAKrB,KAAK,CAACsB,SAAX;AACE,kBAAI,MAAK2G,UAAL,KAAoB,KAApB,IAA6B,MAAKJ,SAAL,KAAmB,KAApD,EACE;;AACF,oBAAKqE,wBAAL,CAA8BhE,KAA9B;;AACA,oBAAK1F,KAAL,GAAa,CAAb;AACA;;AACF,iBAAKxC,KAAK,CAACmM,YAAX;AACE,kBAAI,MAAKlE,UAAL,KAAoB,KAApB,IAA6B,MAAKoC,YAAL,KAAsB,KAAvD,EACE;;AACF,oBAAK+B,2BAAL,CAAiClE,KAAjC;;AACA,oBAAK1F,KAAL,GAAa,CAAb;AACA;;AACF;AACE,oBAAKA,KAAL,GAAa,CAAC,CAAd;AAdJ;;AAgBA;;AACF;AACE,gBAAKA,KAAL,GAAa,CAAC,CAAd;AAtCJ;;AAwCA,UAAI,MAAKA,KAAL,KAAe,CAAC,CAApB,EAAuB;AACrB,cAAKH,aAAL,CAAmB,MAAKqJ,UAAxB;AACD;AACF,KA/CY,CAAb;;AAgDA7L,IAAAA,aAAa,gCAAO,aAAP,EAAsB,UAACqI,KAAD,EAAW;AAC5C,UAAI,MAAKwC,OAAL,KAAiB,KAArB,EACE;AACFxC,MAAAA,KAAK,CAAC0B,cAAN;;AACA,cAAQ,MAAKpH,KAAb;AACE,aAAK,CAAL;AACE,cAAI,MAAK6H,YAAL,KAAsB,KAA1B,EACE;;AACF,gBAAKI,qBAAL,CAA2BvC,KAA3B;;AACA,gBAAK3F,MAAL;;AACA;;AACF,aAAK,CAAL;AACE,cAAI,MAAKsF,SAAL,KAAmB,KAAvB,EACE;;AACF,gBAAK2C,kBAAL,CAAwBtC,KAAxB;;AACA,gBAAK3F,MAAL;;AACA;;AACF,aAAK,CAAL;AACE,cAAI,MAAK0F,UAAL,KAAoB,KAApB,IAA6B,MAAKJ,SAAL,KAAmB,KAApD,EACE;;AACF,gBAAKwE,uBAAL,CAA6BnE,KAA7B;;AACA,gBAAK3F,MAAL;;AACA;;AACF,aAAK,CAAL;AACE,cAAI,MAAK0F,UAAL,KAAoB,KAApB,IAA6B,MAAKoC,YAAL,KAAsB,KAAvD,EACE;;AACF,gBAAKiC,0BAAL,CAAgCpE,KAAhC;;AACA,gBAAK3F,MAAL;;AACA;;AACF;AACE,gBAAKC,KAAL,GAAa,CAAC,CAAd;AA1BJ;AA4BD,KAhCY,CAAb;;AAiCA3C,IAAAA,aAAa,gCAAO,YAAP,EAAqB,YAAM;AACtC,UAAI,MAAK6K,OAAL,KAAiB,KAArB,EACE;;AACF,YAAKrI,aAAL,CAAmB,MAAKyJ,QAAxB;;AACA,YAAKtJ,KAAL,GAAa,CAAC,CAAd;AACD,KALY,CAAb;;AAMA3C,IAAAA,aAAa,gCAAO,eAAP,EAAwB,UAACqI,KAAD,EAAW;AAC9C,UAAI,MAAKwC,OAAL,KAAiB,KAArB,EACE;AACFxC,MAAAA,KAAK,CAAC0B,cAAN;AACD,KAJY,CAAb;;AAKA,QAAIjJ,UAAU,KAAK,KAAK,CAAxB,EAA2B;AACzBgH,MAAAA,OAAO,CAACC,IAAR,CAAa,2EAAb;AACD;;AACD,QAAIjH,UAAU,YAAY4L,QAA1B,EAAoC;AAClC5E,MAAAA,OAAO,CAAC6E,KAAR,CACE,2HADF;AAGD;;AACD,UAAK9L,MAAL,GAAcA,MAAd;AACA,UAAKC,UAAL,GAAkBA,UAAlB;AACA,UAAKoK,YAAL,GAAoB;AAClBhK,MAAAA,IAAI,EAAEX,KAAK,CAACgB,MADM;AAElB4J,MAAAA,MAAM,EAAE5K,KAAK,CAAC6K,KAFI;AAGlBhK,MAAAA,KAAK,EAAEb,KAAK,CAACoL;AAHK,KAApB;AAKA,UAAK7J,OAAL,GAAe,MAAKE,MAAL,CAAY4K,KAAZ,EAAf;AACA,UAAK3K,SAAL,GAAiB,MAAKpB,MAAL,CAAYqB,QAAZ,CAAqB0K,KAArB,EAAjB;AACA,UAAKzK,WAAL,GAAmB,MAAKtB,MAAL,CAAYuB,UAAZ,CAAuBwK,KAAvB,EAAnB;AACA,UAAKvK,KAAL,GAAa,MAAKxB,MAAL,CAAYyB,IAAzB;AACA,UAAKmC,IAAL,GAAY,IAAInE,UAAJ,GAAiBuM,kBAAjB,CAAoC,MAAKhM,MAAL,CAAY+F,EAAhD,EAAoD,IAAI1G,OAAJ,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAApD,CAAZ;AACA,UAAKqF,WAAL,GAAmB,MAAKd,IAAL,CAAUmI,KAAV,GAAkBE,MAAlB,EAAnB;AACA,UAAKjH,YAAL,GAAoB,IAAI3F,OAAJ,EAApB;AACA,UAAK8F,cAAL,GAAsB,IAAI1F,UAAJ,EAAtB;;AACA,UAAKQ,UAAL,CAAgB8K,gBAAhB,CAAiC,aAAjC,EAAgD,MAAK/I,aAArD,EAAoE,KAApE;;AACA,UAAK/B,UAAL,CAAgB8K,gBAAhB,CAAiC,WAAjC,EAA8C,MAAK9I,WAAnD,EAAgE,KAAhE;;AACA,UAAKhC,UAAL,CAAgB8K,gBAAhB,CAAiC,OAAjC,EAA0C,MAAK7I,YAA/C,EAA6D,KAA7D;;AACA,UAAKjC,UAAL,CAAgB8K,gBAAhB,CAAiC,YAAjC,EAA+C,MAAK5I,YAApD,EAAkE,KAAlE;;AACA,UAAKlC,UAAL,CAAgB8K,gBAAhB,CAAiC,UAAjC,EAA6C,MAAK3I,UAAlD,EAA8D,KAA9D;;AACA,UAAKnC,UAAL,CAAgB8K,gBAAhB,CAAiC,WAAjC,EAA8C,MAAK1I,WAAnD,EAAgE,KAAhE;;AACA,UAAKpC,UAAL,CAAgB8K,gBAAhB,CAAiC,SAAjC,EAA4C,MAAKtI,SAAjD,EAA4D,KAA5D;;AACA,QAAI,MAAKxC,UAAL,CAAgBiM,QAAhB,KAA6B,CAAC,CAAlC,EAAqC;AACnC,YAAKjM,UAAL,CAAgBiM,QAAhB,GAA2B,CAA3B;AACD;;AACD,UAAKlM,MAAL,CAAY8E,MAAZ,CAAmB,MAAK3D,MAAxB;;AACA,UAAKU,MAAL;;AACA,UAAKsK,SAAL;;AA5oB8B;AA6oB/B;;;;WACD,yBAAgB,CACf;;;WACD,0BAAiB,CAChB;;;;EAlpB0B/M,e;;IAopBvBgN,gB;;;;;AACJ,4BAAYpM,MAAZ,EAAoBC,UAApB,EAAgC;AAAA;;AAAA;;AAC9B,gCAAMD,MAAN,EAAcC,UAAd;;AACAd,IAAAA,aAAa,iCAAO,cAAP,CAAb;;AACAA,IAAAA,aAAa,iCAAO,SAAP,CAAb;;AACA,WAAKkL,YAAL,GAAoB;AAClBhK,MAAAA,IAAI,EAAEX,KAAK,CAACgB,MADM;AAElBH,MAAAA,KAAK,EAAEb,KAAK,CAACoL;AAFK,KAApB;AAIA,WAAK3B,OAAL,GAAe;AACb1I,MAAAA,GAAG,EAAEnB,KAAK,CAACoB,MADE;AAEbC,MAAAA,GAAG,EAAErB,KAAK,CAACsB;AAFE,KAAf;AAR8B;AAY/B;;;EAb4Bb,c;;IAezBsM,c;;;;;AACJ,0BAAYrM,MAAZ,EAAoBC,UAApB,EAAgC;AAAA;;AAAA;;AAC9B,gCAAMD,MAAN,EAAcC,UAAd;;AACAd,IAAAA,aAAa,iCAAO,cAAP,CAAb;;AACAA,IAAAA,aAAa,iCAAO,SAAP,CAAb;;AACA,WAAKkL,YAAL,GAAoB;AAClBhK,MAAAA,IAAI,EAAEX,KAAK,CAACoL,GADM;AAElBvK,MAAAA,KAAK,EAAEb,KAAK,CAACgB;AAFK,KAApB;AAIA,WAAKyI,OAAL,GAAe;AACb1I,MAAAA,GAAG,EAAEnB,KAAK,CAACwL,GADE;AAEbnK,MAAAA,GAAG,EAAErB,KAAK,CAACmM;AAFE,KAAf;AAR8B;AAY/B;;;EAb0B1L,c;;IAevBuM,oB;;;;;AACJ,gCAAYtM,MAAZ,EAAoBC,UAApB,EAAgC;AAAA;;AAAA;;AAC9B,gCAAMD,MAAN,EAAcC,UAAd;;AACAd,IAAAA,aAAa,iCAAO,WAAP,CAAb;;AACAA,IAAAA,aAAa,iCAAO,oBAAP,CAAb;;AACAA,IAAAA,aAAa,iCAAO,YAAP,CAAb;;AACAA,IAAAA,aAAa,iCAAO,cAAP,CAAb;;AACAA,IAAAA,aAAa,iCAAO,SAAP,CAAb;;AACA,WAAKyD,SAAL,GAAiB,IAAjB;AACA,WAAKiD,kBAAL,GAA0B,IAA1B;AACA,WAAKhC,UAAL,GAAkB,KAAlB;AACA,WAAKwG,YAAL,GAAoB;AAClBhK,MAAAA,IAAI,EAAEX,KAAK,CAACgB,MADM;AAElBH,MAAAA,KAAK,EAAEb,KAAK,CAACoL;AAFK,KAApB;AAIA,WAAK3B,OAAL,GAAe;AACb1I,MAAAA,GAAG,EAAEnB,KAAK,CAACoB,MADE;AAEbC,MAAAA,GAAG,EAAErB,KAAK,CAACsB;AAFE,KAAf;AAd8B;AAkB/B;;;EAnBgCb,c;;AAqBnC,SACEA,cADF,EAEEsM,cAFF,EAGED,gBAHF,EAIEvM,KAJF,EAKEyM,oBALF","sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nimport { EventDispatcher, Vector3, TOUCH, Spherical, Vector2, Quaternion, MOUSE, PerspectiveCamera, OrthographicCamera } from \"three\";\nvar STATE = /* @__PURE__ */ ((STATE2) => {\n  STATE2[STATE2[\"NONE\"] = -1] = \"NONE\";\n  STATE2[STATE2[\"ROTATE\"] = 0] = \"ROTATE\";\n  STATE2[STATE2[\"DOLLY\"] = 1] = \"DOLLY\";\n  STATE2[STATE2[\"PAN\"] = 2] = \"PAN\";\n  STATE2[STATE2[\"TOUCH_ROTATE\"] = 3] = \"TOUCH_ROTATE\";\n  STATE2[STATE2[\"TOUCH_PAN\"] = 4] = \"TOUCH_PAN\";\n  STATE2[STATE2[\"TOUCH_DOLLY_PAN\"] = 5] = \"TOUCH_DOLLY_PAN\";\n  STATE2[STATE2[\"TOUCH_DOLLY_ROTATE\"] = 6] = \"TOUCH_DOLLY_ROTATE\";\n  return STATE2;\n})(STATE || {});\nclass CameraControls extends EventDispatcher {\n  constructor(object, domElement) {\n    super();\n    __publicField(this, \"object\");\n    __publicField(this, \"domElement\");\n    /** Set to false to disable this control */\n    __publicField(this, \"enabled\", true);\n    /** \"target\" sets the location of focus, where the object orbits around */\n    __publicField(this, \"target\", new Vector3());\n    /** Set to true to enable trackball behavior */\n    __publicField(this, \"trackball\", false);\n    /** How far you can dolly in ( PerspectiveCamera only ) */\n    __publicField(this, \"minDistance\", 0);\n    /** How far you can dolly out ( PerspectiveCamera only ) */\n    __publicField(this, \"maxDistance\", Infinity);\n    // How far you can zoom in and out ( OrthographicCamera only )\n    __publicField(this, \"minZoom\", 0);\n    __publicField(this, \"maxZoom\", Infinity);\n    // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n    __publicField(this, \"minPolarAngle\", 0);\n    __publicField(this, \"maxPolarAngle\", Math.PI);\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n    __publicField(this, \"minAzimuthAngle\", -Infinity);\n    // radians\n    __publicField(this, \"maxAzimuthAngle\", Infinity);\n    // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n    __publicField(this, \"enableDamping\", false);\n    __publicField(this, \"dampingFactor\", 0.05);\n    /**\n     * This option enables dollying in and out; property named as \"zoom\" for backwards compatibility\n     * Set to false to disable zooming\n     */\n    __publicField(this, \"enableZoom\", true);\n    __publicField(this, \"zoomSpeed\", 1);\n    /** Set to false to disable rotating */\n    __publicField(this, \"enableRotate\", true);\n    __publicField(this, \"rotateSpeed\", 1);\n    /** Set to false to disable panning */\n    __publicField(this, \"enablePan\", true);\n    __publicField(this, \"panSpeed\", 1);\n    /** if true, pan in screen-space */\n    __publicField(this, \"screenSpacePanning\", false);\n    /** pixels moved per arrow key push */\n    __publicField(this, \"keyPanSpeed\", 7);\n    /**\n     * Set to true to automatically rotate around the target\n     * If auto-rotate is enabled, you must call controls.update() in your animation loop\n     * auto-rotate is not supported for trackball behavior\n     */\n    __publicField(this, \"autoRotate\", false);\n    __publicField(this, \"autoRotateSpeed\", 2);\n    // 30 seconds per round when fps is 60\n    /** Set to false to disable use of the keys */\n    __publicField(this, \"enableKeys\", true);\n    /** The four arrow keys */\n    __publicField(this, \"keys\", { LEFT: \"ArrowLeft\", UP: \"ArrowUp\", RIGHT: \"ArrowRight\", BOTTOM: \"ArrowDown\" });\n    __publicField(this, \"mouseButtons\");\n    /** Touch fingers */\n    __publicField(this, \"touches\", { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN });\n    // for reset\n    __publicField(this, \"target0\");\n    __publicField(this, \"position0\");\n    __publicField(this, \"quaternion0\");\n    __publicField(this, \"zoom0\");\n    // current position in spherical coordinates\n    __publicField(this, \"spherical\", new Spherical());\n    __publicField(this, \"sphericalDelta\", new Spherical());\n    __publicField(this, \"changeEvent\", { type: \"change\" });\n    __publicField(this, \"startEvent\", { type: \"start\" });\n    __publicField(this, \"endEvent\", { type: \"end\" });\n    __publicField(this, \"state\", -1);\n    __publicField(this, \"EPS\", 1e-6);\n    __publicField(this, \"scale\", 1);\n    __publicField(this, \"panOffset\", new Vector3());\n    __publicField(this, \"zoomChanged\", false);\n    __publicField(this, \"rotateStart\", new Vector2());\n    __publicField(this, \"rotateEnd\", new Vector2());\n    __publicField(this, \"rotateDelta\", new Vector2());\n    __publicField(this, \"panStart\", new Vector2());\n    __publicField(this, \"panEnd\", new Vector2());\n    __publicField(this, \"panDelta\", new Vector2());\n    __publicField(this, \"dollyStart\", new Vector2());\n    __publicField(this, \"dollyEnd\", new Vector2());\n    __publicField(this, \"dollyDelta\", new Vector2());\n    __publicField(this, \"offset\", new Vector3());\n    __publicField(this, \"lastPosition\", new Vector3());\n    __publicField(this, \"lastQuaternion\", new Quaternion());\n    __publicField(this, \"q\", new Quaternion());\n    __publicField(this, \"v\", new Vector3());\n    __publicField(this, \"vec\", new Vector3());\n    __publicField(this, \"quat\");\n    __publicField(this, \"quatInverse\");\n    __publicField(this, \"getPolarAngle\", () => this.spherical.phi);\n    __publicField(this, \"getAzimuthalAngle\", () => this.spherical.theta);\n    __publicField(this, \"saveState\", () => {\n      this.target0.copy(this.target);\n      this.position0.copy(this.object.position);\n      this.quaternion0.copy(this.object.quaternion);\n      this.zoom0 = this.object.zoom;\n    });\n    __publicField(this, \"reset\", () => {\n      this.target.copy(this.target0);\n      this.object.position.copy(this.position0);\n      this.object.quaternion.copy(this.quaternion0);\n      this.object.zoom = this.zoom0;\n      this.object.updateProjectionMatrix();\n      this.dispatchEvent(this.changeEvent);\n      this.update();\n      this.state = -1;\n    });\n    __publicField(this, \"dispose\", () => {\n      this.domElement.removeEventListener(\"contextmenu\", this.onContextMenu, false);\n      this.domElement.removeEventListener(\"mousedown\", this.onMouseDown, false);\n      this.domElement.removeEventListener(\"wheel\", this.onMouseWheel, false);\n      this.domElement.removeEventListener(\"touchstart\", this.onTouchStart, false);\n      this.domElement.removeEventListener(\"touchend\", this.onTouchEnd, false);\n      this.domElement.removeEventListener(\"touchmove\", this.onTouchMove, false);\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.domElement.removeEventListener(\"keydown\", this.onKeyDown, false);\n    });\n    __publicField(this, \"update\", () => {\n      const position = this.object.position;\n      this.offset.copy(position).sub(this.target);\n      if (this.trackball) {\n        if (this.sphericalDelta.theta) {\n          this.vec.set(0, 1, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.theta * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        if (this.sphericalDelta.phi) {\n          this.vec.set(1, 0, 0).applyQuaternion(this.object.quaternion);\n          const factor = this.enableDamping ? this.dampingFactor : 1;\n          this.q.setFromAxisAngle(this.vec, this.sphericalDelta.phi * factor);\n          this.object.quaternion.premultiply(this.q);\n          this.offset.applyQuaternion(this.q);\n        }\n        this.offset.multiplyScalar(this.scale);\n        this.offset.clampLength(this.minDistance, this.maxDistance);\n      } else {\n        this.offset.applyQuaternion(this.quat);\n        if (this.autoRotate && this.state === -1) {\n          this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.setFromVector3(this.offset);\n        if (this.enableDamping) {\n          this.spherical.theta += this.sphericalDelta.theta * this.dampingFactor;\n          this.spherical.phi += this.sphericalDelta.phi * this.dampingFactor;\n        } else {\n          this.spherical.theta += this.sphericalDelta.theta;\n          this.spherical.phi += this.sphericalDelta.phi;\n        }\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale;\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        this.offset.setFromSpherical(this.spherical);\n        this.offset.applyQuaternion(this.quatInverse);\n      }\n      if (this.enableDamping === true) {\n        this.target.addScaledVector(this.panOffset, this.dampingFactor);\n      } else {\n        this.target.add(this.panOffset);\n      }\n      position.copy(this.target).add(this.offset);\n      if (this.trackball === false) {\n        this.object.lookAt(this.target);\n      }\n      if (this.enableDamping === true) {\n        this.sphericalDelta.theta *= 1 - this.dampingFactor;\n        this.sphericalDelta.phi *= 1 - this.dampingFactor;\n        this.panOffset.multiplyScalar(1 - this.dampingFactor);\n      } else {\n        this.sphericalDelta.set(0, 0, 0);\n        this.panOffset.set(0, 0, 0);\n      }\n      this.scale = 1;\n      if (this.zoomChanged || this.lastPosition.distanceToSquared(this.object.position) > this.EPS || 8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.dispatchEvent(this.changeEvent);\n        this.lastPosition.copy(this.object.position);\n        this.lastQuaternion.copy(this.object.quaternion);\n        this.zoomChanged = false;\n        return true;\n      }\n      return false;\n    });\n    __publicField(this, \"getAutoRotationAngle\", () => 2 * Math.PI / 60 / 60 * this.autoRotateSpeed);\n    __publicField(this, \"getZoomScale\", () => Math.pow(0.95, this.zoomSpeed));\n    __publicField(this, \"rotateLeft\", (angle) => {\n      this.sphericalDelta.theta -= angle;\n    });\n    __publicField(this, \"rotateUp\", (angle) => {\n      this.sphericalDelta.phi -= angle;\n    });\n    __publicField(this, \"panLeft\", (distance, objectMatrix) => {\n      this.v.setFromMatrixColumn(objectMatrix, 0);\n      this.v.multiplyScalar(-distance);\n      this.panOffset.add(this.v);\n    });\n    __publicField(this, \"panUp\", (distance, objectMatrix) => {\n      if (this.screenSpacePanning === true) {\n        this.v.setFromMatrixColumn(objectMatrix, 1);\n      } else {\n        this.v.setFromMatrixColumn(objectMatrix, 0);\n        this.v.crossVectors(this.object.up, this.v);\n      }\n      this.v.multiplyScalar(distance);\n      this.panOffset.add(this.v);\n    });\n    // deltaX and deltaY are in pixels; right and down are positive\n    __publicField(this, \"pan\", (deltaX, deltaY) => {\n      const element = this.domElement;\n      if (this.object instanceof PerspectiveCamera) {\n        const position = this.object.position;\n        this.offset.copy(position).sub(this.target);\n        let targetDistance = this.offset.length();\n        targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180);\n        this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n        this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n      } else if (this.object.isOrthographicCamera) {\n        this.panLeft(\n          deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth,\n          this.object.matrix\n        );\n        this.panUp(\n          deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight,\n          this.object.matrix\n        );\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - pan disabled.\");\n        this.enablePan = false;\n      }\n    });\n    __publicField(this, \"dollyIn\", (dollyScale) => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale /= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    __publicField(this, \"dollyOut\", (dollyScale) => {\n      if (this.object instanceof PerspectiveCamera) {\n        this.scale *= dollyScale;\n      } else if (this.object instanceof OrthographicCamera) {\n        this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n        this.object.updateProjectionMatrix();\n        this.zoomChanged = true;\n      } else {\n        console.warn(\"WARNING: CameraControls.js encountered an unknown camera type - dolly/zoom disabled.\");\n        this.enableZoom = false;\n      }\n    });\n    // event callbacks - update the object state\n    __publicField(this, \"handleMouseDownRotate\", (event) => {\n      this.rotateStart.set(event.clientX, event.clientY);\n    });\n    // TODO: confirm if worthwhile to return the Vector2 instead of void\n    __publicField(this, \"handleMouseDownDolly\", (event) => {\n      this.dollyStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseDownPan\", (event) => {\n      this.panStart.set(event.clientX, event.clientY);\n    });\n    __publicField(this, \"handleMouseMoveRotate\", (event) => {\n      this.rotateEnd.set(event.clientX, event.clientY);\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMoveDolly\", (event) => {\n      this.dollyEnd.set(event.clientX, event.clientY);\n      this.dollyDelta.subVectors(this.dollyEnd, this.dollyStart);\n      if (this.dollyDelta.y > 0) {\n        this.dollyIn(this.getZoomScale());\n      } else if (this.dollyDelta.y < 0) {\n        this.dollyOut(this.getZoomScale());\n      }\n      this.dollyStart.copy(this.dollyEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseMovePan\", (event) => {\n      this.panEnd.set(event.clientX, event.clientY);\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n      this.update();\n    });\n    __publicField(this, \"handleMouseWheel\", (event) => {\n      if (event.deltaY < 0) {\n        this.dollyOut(this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        this.dollyIn(this.getZoomScale());\n      }\n      this.update();\n    });\n    __publicField(this, \"handleKeyDown\", (event) => {\n      let needsUpdate = false;\n      switch (event.code) {\n        case this.keys.UP:\n          this.pan(0, this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.BOTTOM:\n          this.pan(0, -this.keyPanSpeed);\n          needsUpdate = true;\n          break;\n        case this.keys.LEFT:\n          this.pan(this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n        case this.keys.RIGHT:\n          this.pan(-this.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n      if (needsUpdate) {\n        event.preventDefault();\n        this.update();\n      }\n    });\n    __publicField(this, \"handleTouchStartRotate\", (event) => {\n      if (event.touches.length == 1) {\n        this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartPan\", (event) => {\n      if (event.touches.length == 1) {\n        this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panStart.set(x, y);\n      }\n    });\n    __publicField(this, \"handleTouchStartDolly\", (event) => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyStart.set(0, distance);\n    });\n    __publicField(this, \"handleTouchStartDollyPan\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchStartDolly(event);\n      if (this.enablePan)\n        this.handleTouchStartPan(event);\n    });\n    __publicField(this, \"handleTouchStartDollyRotate\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchStartDolly(event);\n      if (this.enableRotate)\n        this.handleTouchStartRotate(event);\n    });\n    __publicField(this, \"handleTouchMoveRotate\", (event) => {\n      if (event.touches.length == 1) {\n        this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.rotateEnd.set(x, y);\n      }\n      this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart).multiplyScalar(this.rotateSpeed);\n      const element = this.domElement;\n      this.rotateLeft(2 * Math.PI * this.rotateDelta.x / element.clientHeight);\n      this.rotateUp(2 * Math.PI * this.rotateDelta.y / element.clientHeight);\n      this.rotateStart.copy(this.rotateEnd);\n    });\n    __publicField(this, \"handleTouchMovePan\", (event) => {\n      if (event.touches.length == 1) {\n        this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n      } else {\n        const x = 0.5 * (event.touches[0].pageX + event.touches[1].pageX);\n        const y = 0.5 * (event.touches[0].pageY + event.touches[1].pageY);\n        this.panEnd.set(x, y);\n      }\n      this.panDelta.subVectors(this.panEnd, this.panStart).multiplyScalar(this.panSpeed);\n      this.pan(this.panDelta.x, this.panDelta.y);\n      this.panStart.copy(this.panEnd);\n    });\n    __publicField(this, \"handleTouchMoveDolly\", (event) => {\n      const dx = event.touches[0].pageX - event.touches[1].pageX;\n      const dy = event.touches[0].pageY - event.touches[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      this.dollyEnd.set(0, distance);\n      this.dollyDelta.set(0, Math.pow(this.dollyEnd.y / this.dollyStart.y, this.zoomSpeed));\n      this.dollyIn(this.dollyDelta.y);\n      this.dollyStart.copy(this.dollyEnd);\n    });\n    __publicField(this, \"handleTouchMoveDollyPan\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchMoveDolly(event);\n      if (this.enablePan)\n        this.handleTouchMovePan(event);\n    });\n    __publicField(this, \"handleTouchMoveDollyRotate\", (event) => {\n      if (this.enableZoom)\n        this.handleTouchMoveDolly(event);\n      if (this.enableRotate)\n        this.handleTouchMoveRotate(event);\n    });\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n    __publicField(this, \"onMouseDown\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      this.domElement.focus ? this.domElement.focus() : window.focus();\n      let mouseAction;\n      switch (event.button) {\n        case 0:\n          mouseAction = this.mouseButtons.LEFT;\n          break;\n        case 1:\n          mouseAction = this.mouseButtons.MIDDLE;\n          break;\n        case 2:\n          mouseAction = this.mouseButtons.RIGHT;\n          break;\n        default:\n          mouseAction = -1;\n      }\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (this.enableZoom === false)\n            return;\n          this.handleMouseDownDolly(event);\n          this.state = 1;\n          break;\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enablePan === false)\n              return;\n            this.handleMouseDownPan(event);\n            this.state = 2;\n          } else {\n            if (this.enableRotate === false)\n              return;\n            this.handleMouseDownRotate(event);\n            this.state = 0;\n          }\n          break;\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (this.enableRotate === false)\n              return;\n            this.handleMouseDownRotate(event);\n            this.state = 0;\n          } else {\n            if (this.enablePan === false)\n              return;\n            this.handleMouseDownPan(event);\n            this.state = 2;\n          }\n          break;\n        default:\n          this.state = -1;\n      }\n      if (this.state !== -1) {\n        document.addEventListener(\"mousemove\", this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", this.onMouseUp, false);\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onMouseMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (this.state) {\n        case 0:\n          if (this.enableRotate === false)\n            return;\n          this.handleMouseMoveRotate(event);\n          break;\n        case 1:\n          if (this.enableZoom === false)\n            return;\n          this.handleMouseMoveDolly(event);\n          break;\n        case 2:\n          if (this.enablePan === false)\n            return;\n          this.handleMouseMovePan(event);\n          break;\n      }\n    });\n    __publicField(this, \"onMouseUp\", () => {\n      if (this.enabled === false)\n        return;\n      document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n      document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n      this.dispatchEvent(this.endEvent);\n      this.state = -1;\n    });\n    __publicField(this, \"onMouseWheel\", (event) => {\n      if (this.enabled === false || this.enableZoom === false || this.state !== -1 && this.state !== 0) {\n        return;\n      }\n      event.preventDefault();\n      this.dispatchEvent(this.startEvent);\n      this.handleMouseWheel(event);\n      this.dispatchEvent(this.endEvent);\n    });\n    __publicField(this, \"onKeyDown\", (event) => {\n      if (this.enabled === false || this.enableKeys === false || this.enablePan === false)\n        return;\n      this.handleKeyDown(event);\n    });\n    __publicField(this, \"onTouchStart\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (event.touches.length) {\n        case 1:\n          switch (this.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (this.enableRotate === false)\n                return;\n              this.handleTouchStartRotate(event);\n              this.state = 3;\n              break;\n            case TOUCH.PAN:\n              if (this.enablePan === false)\n                return;\n              this.handleTouchStartPan(event);\n              this.state = 4;\n              break;\n            default:\n              this.state = -1;\n          }\n          break;\n        case 2:\n          switch (this.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (this.enableZoom === false && this.enablePan === false)\n                return;\n              this.handleTouchStartDollyPan(event);\n              this.state = 5;\n              break;\n            case TOUCH.DOLLY_ROTATE:\n              if (this.enableZoom === false && this.enableRotate === false)\n                return;\n              this.handleTouchStartDollyRotate(event);\n              this.state = 6;\n              break;\n            default:\n              this.state = -1;\n          }\n          break;\n        default:\n          this.state = -1;\n      }\n      if (this.state !== -1) {\n        this.dispatchEvent(this.startEvent);\n      }\n    });\n    __publicField(this, \"onTouchMove\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n      switch (this.state) {\n        case 3:\n          if (this.enableRotate === false)\n            return;\n          this.handleTouchMoveRotate(event);\n          this.update();\n          break;\n        case 4:\n          if (this.enablePan === false)\n            return;\n          this.handleTouchMovePan(event);\n          this.update();\n          break;\n        case 5:\n          if (this.enableZoom === false && this.enablePan === false)\n            return;\n          this.handleTouchMoveDollyPan(event);\n          this.update();\n          break;\n        case 6:\n          if (this.enableZoom === false && this.enableRotate === false)\n            return;\n          this.handleTouchMoveDollyRotate(event);\n          this.update();\n          break;\n        default:\n          this.state = -1;\n      }\n    });\n    __publicField(this, \"onTouchEnd\", () => {\n      if (this.enabled === false)\n        return;\n      this.dispatchEvent(this.endEvent);\n      this.state = -1;\n    });\n    __publicField(this, \"onContextMenu\", (event) => {\n      if (this.enabled === false)\n        return;\n      event.preventDefault();\n    });\n    if (domElement === void 0) {\n      console.warn('THREE.CameraControls: The second parameter \"domElement\" is now mandatory.');\n    }\n    if (domElement instanceof Document) {\n      console.error(\n        'THREE.CameraControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.'\n      );\n    }\n    this.object = object;\n    this.domElement = domElement;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    };\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.quaternion0 = this.object.quaternion.clone();\n    this.zoom0 = this.object.zoom;\n    this.quat = new Quaternion().setFromUnitVectors(this.object.up, new Vector3(0, 1, 0));\n    this.quatInverse = this.quat.clone().invert();\n    this.lastPosition = new Vector3();\n    this.lastQuaternion = new Quaternion();\n    this.domElement.addEventListener(\"contextmenu\", this.onContextMenu, false);\n    this.domElement.addEventListener(\"mousedown\", this.onMouseDown, false);\n    this.domElement.addEventListener(\"wheel\", this.onMouseWheel, false);\n    this.domElement.addEventListener(\"touchstart\", this.onTouchStart, false);\n    this.domElement.addEventListener(\"touchend\", this.onTouchEnd, false);\n    this.domElement.addEventListener(\"touchmove\", this.onTouchMove, false);\n    this.domElement.addEventListener(\"keydown\", this.onKeyDown, false);\n    if (this.domElement.tabIndex === -1) {\n      this.domElement.tabIndex = 0;\n    }\n    this.object.lookAt(this.target);\n    this.update();\n    this.saveState();\n  }\n  handleMouseUp() {\n  }\n  handleTouchEnd() {\n  }\n}\nclass OrbitControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nclass MapControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.mouseButtons = {\n      LEFT: MOUSE.PAN,\n      RIGHT: MOUSE.ROTATE\n    };\n    this.touches = {\n      ONE: TOUCH.PAN,\n      TWO: TOUCH.DOLLY_ROTATE\n    };\n  }\n}\nclass TrackballControlsExp extends CameraControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    __publicField(this, \"trackball\");\n    __publicField(this, \"screenSpacePanning\");\n    __publicField(this, \"autoRotate\");\n    __publicField(this, \"mouseButtons\");\n    __publicField(this, \"touches\");\n    this.trackball = true;\n    this.screenSpacePanning = true;\n    this.autoRotate = false;\n    this.mouseButtons = {\n      LEFT: MOUSE.ROTATE,\n      RIGHT: MOUSE.PAN\n    };\n    this.touches = {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    };\n  }\n}\nexport {\n  CameraControls,\n  MapControlsExp,\n  OrbitControlsExp,\n  STATE,\n  TrackballControlsExp\n};\n"]},"metadata":{},"sourceType":"module"}